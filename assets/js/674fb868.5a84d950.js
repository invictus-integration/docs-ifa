"use strict";(self.webpackChunkinvictus_integration=self.webpackChunkinvictus_integration||[]).push([[5552],{4535:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/v2_dsb-createflow-28d3f0db213810246eb516db2df7a30a.png"},4670:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"dashboard/flows/add","title":"Add new flows","description":"Each folder can hold one or more \'flows\'. These are message chains, an aggregation of all the messages that can be linked to the same incoming message. Flows are the functional representation of the message with an optional context property name and / or optional context property value.","source":"@site/versioned_docs/version-v6.0.0/dashboard/flows/01_add.md","sourceDirName":"dashboard/flows","slug":"/dashboard/flows/add","permalink":"/dashboard/flows/add","draft":false,"unlisted":false,"editUrl":"https://github.com/invictus-integration/docs-ifa/edit/master/docs/versioned_docs/version-v6.0.0/dashboard/flows/01_add.md","tags":[],"version":"v6.0.0","sidebarPosition":1,"frontMatter":{},"sidebar":"sidebar","previous":{"title":"Dashboard Homepage: overview of flow statuses","permalink":"/dashboard/flows/"},"next":{"title":"Search for flows","permalink":"/dashboard/flows/search"}}');var r=s(4848),i=s(8453);const o={},l="Add new flows",a={},h=[{value:"Add a new Flow",id:"add-a-new-flow",level:2},{value:"Edit an existing Flow",id:"edit-an-existing-flow",level:2},{value:"Alerting",id:"alerting",level:3},{value:"Query type description",id:"query-type-description",level:4}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"add-new-flows",children:"Add new flows"})}),"\n",(0,r.jsxs)(n.p,{children:["Each ",(0,r.jsx)(n.a,{href:"/dashboard/flows/#organizing-flows-in-folders",children:"folder"})," can hold one or more 'flows'. These are message chains, an aggregation of all the messages that can be linked to the same incoming message. Flows are the functional representation of the message with an optional context property name and / or optional context property value."]}),"\n",(0,r.jsx)(n.h2,{id:"add-a-new-flow",children:"Add a new Flow"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,r.jsx)(n.strong,{children:"Home > Your Flows > \u2022\u2022\u2022 > Create New Flow"})]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"create flow",src:s(4535).A+"",width:"1916",height:"924"})}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flow Name:"})," a case sensitive name of the flow (example: ex. invoice request, invoice approval, \u2026)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Folder:"})," the parent folder to add the flow to."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Mapping"}),": defines how a flow, and the messages it contains, are stored and indexed."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Business properties"}),": each mapping type contains a list of fields or properties pertinent to that type."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Advanced Settings"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Connected Dashboard"}),": if the flow has multiple dashboards and it needs to connect to another dashboard then this needs to be checked.  For this setting to apply, the Connected Dashboard needs to be enabled by your Admin through the settings page of the dashboard in order to switch on this feature."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Show milestone and event text"}),": Checking this option will enable the flow milestone and event text data to be displayed."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Custom resubmit/resume URLs"}),": Check these options and provide the necessary URLs to use your own resume and resubmit logic."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ud83d\udd17 See ",(0,r.jsx)(n.a,{href:"#alerting",children:"Alerting"})," to manage alerts on the flow."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"edit-an-existing-flow",children:"Edit an existing Flow"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 ",(0,r.jsx)(n.strong,{children:"Home > Your Flows > [Your Folder] > [Your Flow] > \u2022\u2022\u2022 > Edit/Delete Flow"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"edit/delete flow",src:s(6819).A+"",width:"1916",height:"923"})}),"\n",(0,r.jsx)(n.h3,{id:"alerting",children:"Alerting"}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["To manage alerts within Flows, make sure the ",(0,r.jsxs)(n.a,{href:"/dashboard/accesscontrolrights",children:["necessary ",(0,r.jsx)(n.strong,{children:"role assignments"})," are set"]})," in your Invictus installation."]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"edit/delete flow",src:s(6277).A+"",width:"1913",height:"924"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Alert Name:"})," The name for the rule, must be unique per flow. Name will automatically have the flow name added as a prefix to it."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Severity:"})," Has to be a value between ",(0,r.jsx)(n.code,{children:"1-4"})," which identifies the severity of an alert."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schedule:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Frequency:"})," how often the rule is executed - value must be between the range of ",(0,r.jsx)(n.code,{children:"5-1440"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Time window:"})," range that Azure uses, the logs for the last x minutes - value must be between the range of ",(0,r.jsx)(n.code,{children:"5-2880"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Trigger:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Threshold Operator:"})," The values available are: ",(0,r.jsx)(n.code,{children:"Equal"}),"/",(0,r.jsx)(n.code,{children:"GreaterThan"}),"/",(0,r.jsx)(n.code,{children:"LessThan"}),", these operators are used along with the ",(0,r.jsx)(n.em,{children:"Threshold"})," field to check if a rule needs to be triggered or not."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Throttling:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Suppress alerts (minutes):"})," The minutes value set here is used to suppress alerts for x minutes if alerts for a rule have been triggered."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Query:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"Type:"})," This value is used to select which type of query the alert rule will have ",(0,r.jsx)(n.code,{children:"AzureResultCount"}),"/",(0,r.jsx)(n.code,{children:"InvictusActivityCheck"}),"/",(0,r.jsx)(n.code,{children:"InvictusErrorCheck"})," - AzureResultCount lets the user enter custom script which is accepted by the Azure Rule Syntax. The ones starting with ",(0,r.jsx)(n.code,{children:"Invictus..."})," are pre-made scripts for the user to select without having to modify."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Recipients:"})," the email recipients to notify when the rule is triggered."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"query-type-description",children:"Query type description"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"Invictus Activity Check"})}),"\n",(0,r.jsx)(n.p,{children:'This query type will filter logs on Azure Logs by the "InvictusImportJobFlowActivityAlert" property. The ImportJob will log activity for any flows that are active every hour. An example of how the alert settings for this flow could be set:'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Frequency: 60"}),"\n",(0,r.jsx)(n.li,{children:"Time Window: 60"}),"\n",(0,r.jsx)(n.li,{children:"Trigger Threshold Operator: LessThan"}),"\n",(0,r.jsx)(n.li,{children:"Threshold: 0"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This will create a rule to run every 60 minutes, scans the logs for the last 60 minutes and if the returned value is less than the threshold, it means that the flow is inactive, thus triggers the alert on Azure."}),"\n",(0,r.jsxs)(n.p,{children:["Please note that the importjob will not increment the activity for each message that is processed for a flow. This simply sends a single log per hour for each flow that is active, the count might be higher than one per hour due to scaling situations and multi-threaded scenarios. The logging frequency for the importjob can be increased by reducing the following value: ",(0,r.jsx)(n.strong,{children:"FlowActivityIntervalInMinutes"}),". This can be passed to the ARM template during deployment."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"Invictus Error Check"})}),"\n",(0,r.jsx)(n.p,{children:'This query type will filter logs on Azure Logs by the "InvictusImportJobFlowErrorAlert" property. The ImportJob will log a message for each Flow that triggers an error. An example of how the alert settings for this flow could be set:'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Frequency: 10"}),"\n",(0,r.jsx)(n.li,{children:"Time Window: 10"}),"\n",(0,r.jsx)(n.li,{children:"Trigger Threshold Operator: GreaterThan"}),"\n",(0,r.jsx)(n.li,{children:"Threshold: 0"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This will create a rule to run every 10 minutes, scans the logs for the last 10 minutes and if the returned value is greater than the threshold, it means that the flow has failed messages, thus triggers the alert on Azure."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"AzureResultCount"})}),"\n",(0,r.jsx)(n.p,{children:"This will enable custom scripts with the Azure Alert syntax. If you require further information about this type of syntax please refer to the official documentation by Microsoft."})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},6277:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/v2_alerting4-20f296fa4392dd15632c013238e18fbd.png"},6819:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/v2_alerting2-f2348b5ffaf63c7c6927acc67da34577.png"},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var t=s(6540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);