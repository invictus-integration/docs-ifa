"use strict";(self.webpackChunkinvictus_integration=self.webpackChunkinvictus_integration||[]).push([[4198],{544:(e,s,i)=>{i.d(s,{Y:()=>o,p:()=>t});var r=i(6540),n=i(4848);function t({children:e}){return(0,n.jsx)("div",{className:"walkthrough-container",children:(0,n.jsx)("div",{className:"walkthrough-line",children:r.Children.map(e,(e,s)=>r.isValidElement(e)?r.cloneElement(e,{number:s+1}):e)})})}function o({title:e,children:s,number:i}){const[t,o]=(0,r.useState)(!1),a=()=>o(!t);return(0,n.jsxs)("div",{className:"task-container"+(t?" open":""),children:[(0,n.jsxs)("div",{role:"button",tabIndex:0,"aria-expanded":t,onClick:a,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a())},className:"task-header",children:[(0,n.jsx)("div",{className:"task-circle","aria-hidden":"true",children:i}),e]}),t&&(0,n.jsx)("div",{className:"task-content",children:s})]})}},3486:(e,s,i)=>{i.d(s,{A:()=>r});const r=i.p+"assets/images/groups-disable-action-2b14324f28b5417aaec0920787194ae1.png"},4717:(e,s,i)=>{i.d(s,{SV:()=>a,bE:()=>o,gw:()=>t});var r=i(6540),n=i(4848);function t(){return c({title:"Only Admins",tooltip:"This section describes functionality that's only available for users with a System Admin role."})}function o(){return c({title:"Requires Operator",tooltip:"This section describes functionality that requires at least Operator permissions on the flow"})}function a(){return c({title:"Only Admins",tooltip:"This section describes functionality that's only available for users with a Folder or System Admin role."})}function c({title:e,tooltip:s}){const[i,t]=(0,r.useState)(!1);return(0,n.jsxs)("span",{style:{position:"relative",display:"inline-block",marginLeft:"8px",textTransform:"none",fontWeight:"bold"},onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[(0,n.jsx)("span",{style:{backgroundColor:"#FDECEA",color:"#D93025 ",padding:"2px 6px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600",fontFamily:"Bitter",cursor:"default",userSelect:"none"},children:e}),i&&(0,n.jsxs)("span",{style:{position:"absolute",bottom:"125%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#333",color:"#fff",padding:"6px",borderRadius:"6px",whiteSpace:"nowrap",fontSize:"0.75rem",fontFamily:"Bitter",fontWeight:"normal",zIndex:10,pointerEvents:"none"},children:[s,(0,n.jsx)("span",{style:{position:"absolute",top:"100%",left:"50%",marginLeft:"-5px",width:0,height:0,borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid #333"}})]})]})}},5374:(e,s,i)=>{i.d(s,{A:()=>r});const r=i.p+"assets/images/groups-permissions-action-baa70b1093f4d79ba3b62bf9848ef25e.png"},7129:(e,s,i)=>{i.d(s,{A:()=>r});const r=i.p+"assets/images/favicon-15a04d88a4bef273fbd1301921d1cd51.ico"},7437:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"dashboard/installation/give_ad_access","title":"Give Invictus access to your Azure Active Directory","description":"To use your Azure Active Directory groups as a way of authentication and flow authorization, you need to follow these steps.","source":"@site/versioned_docs/version-v6.0.0/dashboard/installation/01_give_ad_access.mdx","sourceDirName":"dashboard/installation","slug":"/dashboard/installation/give_ad_access","permalink":"/dashboard/installation/give_ad_access","draft":false,"unlisted":false,"editUrl":"https://github.com/invictus-integration/docs-ifa/edit/master/docs/versioned_docs/version-v6.0.0/dashboard/installation/01_give_ad_access.mdx","tags":[],"version":"v6.0.0","sidebarPosition":1,"frontMatter":{"sidebar_label":"Give access to your Active Directory"},"sidebar":"sidebar","previous":{"title":"Installing Invictus Dashboard","permalink":"/dashboard/installation/"},"next":{"title":"Give access to your Logic Apps","permalink":"/dashboard/installation/give_la_access"}}');var n=i(4848),t=i(8453),o=i(544),a=i(4717);const c={sidebar_label:"Give access to your Active Directory"},l="Give Invictus access to your Azure Active Directory",d={},h=[{value:"Sync your Azure Active Directory groups to Invictus <OnlyAdminsBadge></OnlyAdminsBadge>",id:"sync-your-azure-active-directory-groups-to-invictus-",level:2},{value:"Enable only required groups <OnlyAdminsBadge></OnlyAdminsBadge>",id:"enable-only-required-groups-",level:2},{value:"Assign user role to required groups <OnlyAdminsBadge></OnlyAdminsBadge>",id:"assign-user-role-to-required-groups-",level:2}];function u(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"give-invictus-access-to-your-azure-active-directory",children:"Give Invictus access to your Azure Active Directory"})}),"\n",(0,n.jsx)(s.p,{children:"To use your Azure Active Directory groups as a way of authentication and flow authorization, you need to follow these steps."}),"\n",(0,n.jsxs)(o.p,{children:[(0,n.jsxs)(o.Y,{title:"Register an Application for Invictus",children:[(0,n.jsx)("em",{children:(0,n.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/entra/identity-platform/quickstart-register-app?tabs=certificate%2Cexpose-a-web-api",children:"\ud83d\udd17 Microsoft Docs: Register an application"})}),(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Choose the ",(0,n.jsx)("u",{children:"multi-tenant"})," account type option to let Invictus use the app registration."]}),"\n",(0,n.jsxs)(s.li,{children:["Add ",(0,n.jsx)("u",{children:"Redirect URI's"})," to ",(0,n.jsx)(s.strong,{children:"your"})," Invictus pages:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"https://your-invictusdashboard.azurewebsites.net/login"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.code,{children:"https://your-invictusdashboard.azurewebsites.net/api/auth/callback/azure-ad"})}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["Check the ",(0,n.jsx)(s.strong,{children:"\u2611\ufe0f Access tokens"})," box (",(0,n.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/entra/identity-platform/v2-oauth2-implicit-grant-flow?WT.mc_id=Portal-Microsoft_AAD_RegisteredApps",children:"why?"}),")"]}),"\n",(0,n.jsxs)(s.li,{children:["Add a new ",(0,n.jsx)("u",{children:"client secret"})," (copy the value for later use)."]}),"\n",(0,n.jsxs)(s.li,{children:["Linked Enterprise Application:","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Assign ",(0,n.jsx)("u",{children:"Owners"})," (",(0,n.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/entra/identity/enterprise-apps/assign-app-owners?pivots=portal",children:"more info"}),")"]}),"\n",(0,n.jsxs)(s.li,{children:["Grant ",(0,n.jsx)("u",{children:"Admin consent"})," (",(0,n.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/entra/identity/enterprise-apps/grant-admin-consent?pivots=portal",children:"more info"}),")"]}),"\n"]}),"\n"]}),"\n"]})]}),(0,n.jsxs)(o.Y,{title:"Expose an API with scoped permissions",children:[(0,n.jsx)("em",{children:(0,n.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/entra/identity-platform/quickstart-configure-app-expose-web-apis#add-a-scope",children:" \ud83d\udd17Microsoft Docs: Expose an API"})}),(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Use the default ",(0,n.jsx)("u",{children:"Application ID URI"})," (copy it)."]}),"\n",(0,n.jsxs)(s.li,{children:["Add a scope with ",(0,n.jsx)("u",{children:"Admin and users"})," consent."]}),"\n",(0,n.jsxs)(s.li,{children:["Use this name for the scope: ",(0,n.jsx)(s.code,{children:"access_as_user"})]}),"\n"]})]}),(0,n.jsxs)(o.Y,{title:"Add API permissions",children:[(0,n.jsx)("em",{children:(0,n.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/entra/identity-platform/quickstart-configure-app-access-web-apis",children:"\ud83d\udd17 Microsoft Docs: Configure API Permissions"})}),(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Microsoft Graph"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"Directory.Read.All"})," \u2014 ",(0,n.jsx)(s.strong,{children:"Delegated"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"User.Read"})," \u2014 ",(0,n.jsx)(s.strong,{children:"Delegated"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"User.Read.All"})," \u2014 ",(0,n.jsx)(s.strong,{children:"Delegated"})," + ",(0,n.jsx)(s.strong,{children:"Application"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"Group.Read.All"})," \u2014 ",(0,n.jsx)(s.strong,{children:"Application"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"Mail.Send"})," \u2014 ",(0,n.jsx)(s.strong,{children:"Application"})]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"My APIs"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["The ",(0,n.jsx)(s.code,{children:"access_as_user"})," scope you created earlier \u2014 ",(0,n.jsx)(s.strong,{children:"Delegated"})]}),"\n"]}),"\n"]}),"\n"]})]}),(0,n.jsx)(o.Y,{title:"Pass App Registration values to Invictus deployment",children:(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"azureActiveDirectoryClientId"})," \u2014 from ",(0,n.jsx)(s.strong,{children:"App Registration > Overview"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"azureActiveDirectoryTenantId"})," \u2014 from ",(0,n.jsx)(s.strong,{children:"App Registration > Overview"})]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"azureActiveDirectoryClientSecret"})," \u2014 the one you copied earlier"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"azureActiveDirectoryAudience"})," \u2014 the default ",(0,n.jsx)("u",{children:"Application ID URI"})]}),"\n"]})})]}),"\n",(0,n.jsxs)(s.h2,{id:"sync-your-azure-active-directory-groups-to-invictus-",children:["Sync your Azure Active Directory groups to Invictus ",(0,n.jsx)(a.gw,{})]}),"\n",(0,n.jsxs)("nav",{class:"custom-breadcrumb",children:[(0,n.jsx)("span",{class:"breadcrumb-item no-padding",children:(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"logo",src:i(7129).A+"",width:"48",height:"48"})})}),(0,n.jsx)("span",{children:"\u203a"}),(0,n.jsx)("span",{class:"breadcrumb-item",children:"Groups"}),(0,n.jsx)("span",{children:"\u203a"}),(0,n.jsx)("span",{class:"breadcrumb-item active",children:"Sync all groups"})]}),"\n",(0,n.jsxs)(s.p,{children:["Groups available in your Azure Active Directory will be used to determine whether users can access certain flows in the Invictus Dashboard. (See ",(0,n.jsx)(s.a,{href:"/dashboard/flows/add#permissions-",children:"flow permissions"}),")."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/entra/fundamentals/how-to-manage-groups",children:"Add Azure Active Directory group"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/entra/fundamentals/how-to-create-delete-users",children:"Add Azure Active Directory user"})}),"\n"]}),"\n",(0,n.jsx)(s.admonition,{type:"warning",children:(0,n.jsx)(s.p,{children:"Only groups of active users (Active Directory users that have already signed into the Dashboard) will be synced within the Dashboard."})}),"\n",(0,n.jsxs)(s.h2,{id:"enable-only-required-groups-",children:["Enable only required groups ",(0,n.jsx)(a.gw,{})]}),"\n",(0,n.jsxs)("nav",{class:"custom-breadcrumb",children:[(0,n.jsx)("span",{class:"breadcrumb-item no-padding",children:(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"logo",src:i(7129).A+"",width:"48",height:"48"})})}),(0,n.jsx)("span",{children:"\u203a"}),(0,n.jsx)("span",{class:"breadcrumb-item",children:"Groups"}),(0,n.jsx)("span",{children:"\u203a"}),(0,n.jsx)("span",{class:"breadcrumb-item",children:"your_group"}),(0,n.jsx)("span",{children:"\u203a"}),(0,n.jsx)("span",{class:"breadcrumb-item active",children:(0,n.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 1024 1024","aria-hidden":"true",focusable:"false",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"})})})]}),"\n",(0,n.jsxs)(s.p,{children:["Once the groups are synced within the Dashboard, you have to manually enable the required groups which you want to use for ",(0,n.jsx)(s.a,{href:"/dashboard/flows/add#permissions-",children:"flow permissions"}),"."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"Enable Groups",src:i(3486).A+"",width:"1847",height:"372"})}),"\n",(0,n.jsxs)(s.h2,{id:"assign-user-role-to-required-groups-",children:["Assign user role to required groups ",(0,n.jsx)(a.gw,{})]}),"\n",(0,n.jsxs)("nav",{class:"custom-breadcrumb",children:[(0,n.jsx)("span",{class:"breadcrumb-item no-padding",children:(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"logo",src:i(7129).A+"",width:"48",height:"48"})})}),(0,n.jsx)("span",{children:"\u203a"}),(0,n.jsx)("span",{class:"breadcrumb-item",children:"Groups"}),(0,n.jsx)("span",{children:"\u203a"}),(0,n.jsx)("span",{class:"breadcrumb-item",children:"your_group"}),(0,n.jsx)("span",{children:"\u203a"}),(0,n.jsx)("span",{class:"breadcrumb-item active",children:(0,n.jsxs)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",t:"1569683921137",viewBox:"0 0 1024 1024",version:"1.1","aria-hidden":"true",focusable:"false",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("defs",{}),(0,n.jsx)("path",{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-0.4 0.2-0.7 0.3-0.9 0.4-44.7 18.9-84.8 46-119.3 80.6-34.5 34.5-61.5 74.7-80.4 119.5C146.9 780.5 137 827 136 874.8c-0.1 4.5 3.5 8.2 8 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zM616 728h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1c1.1-1.4 1.7-3.2 1.7-4.9 0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8 0.1 17.7 14.4 32 32.1 32zM856 792H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1c-1.1 1.4-1.7 3.2-1.7 4.9 0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-0.1-17.7-14.4-32-32.1-32z"})]})})]}),"\n",(0,n.jsxs)(s.p,{children:["Each enabled group requires a user role permission to indicate what authority each member of the group has throughout the Dashboard, ",(0,n.jsx)(s.a,{href:"/dashboard/security/roles",children:"more info on Dashboard roles"}),"."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"Add Global Roles",src:i(5374).A+"",width:"1853",height:"475"})})]})}function p(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>o,x:()=>a});var r=i(6540);const n={},t=r.createContext(n);function o(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);