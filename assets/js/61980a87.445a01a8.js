"use strict";(self.webpackChunkinvictus_integration=self.webpackChunkinvictus_integration||[]).push([[9429],{313:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/import-scenario2-156a607794fb860175a0dede039364ef.png"},559:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/fh-resubmit1-76358395dd1170b0b0366374b76da2a9.jpg"},1608:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/v2_events2-284d645617b2fa5550d7c1aa87f7fa23.png"},2737:(e,t,s)=>{s.d(t,{A:()=>i});const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMUAAABGCAYAAAB8HFCGAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA/3SURBVHhe7Z1rUBzXlcf/vIaHBtmBEh7WSJgKKjly4tgq1SK8q1QtxBs7H6IEgquEUrW2UrXr2mz8Yc2XWMRR2VLyIdipsLWOHK+VslagXVEg4Upie2WxWMRgXCqhWA/bCzbLSwyPAWYYXjMwved23+7p6ZlhHnpucn5VXcy9p/s+zj3n3HMbaUhRCDAMY5AqfzIMI2GnYBgL7BQMY4GdgmEssFMwjAV2CoaxwE7BMBYScoqeF1OQkiKuajSPykqVHhxW6+l6ohlOWes8US3vD16HP5BC8zPqFdpm2LMv9kiJTvD56hN6jxZGm1FtbiPkXmv/dJnGHpEPDofen3KYWgkSa8xBufk5J5qfEHX6/COMS79ke8F10K+g7gxZyFz0NmW/YfMIXsH10bGOT6LrVvajzy36+obfa9aPMe6wOqut3XyS3Cna0NplMp8POlAvP0biUI8C8TtCcR3YJWqEwh6hZw6hW9YrPdXqvQKhtMLaNlQ1j8vnxtFUKoU6pj7bTnWYDEBDVfzmfYDRBl0jTdgh5QY1TRjX5Sdr4ZDVVtT2yutNY1Iw3lwipdoCijEbc6W+qp5/JIIzC+rREM2RUY4Dsv3uF7Qao80fl2sVKlVoGpH1Sitqi2S1Tss+vB5m4JJdB+Rz3bQCguA6aOtjxoGK71TRz9A1d3a1Ug2N4jsVUXWmEkG/jt3VNHri0qBcNycGL6kfTHU96HieftRUo8I6t5tMEk5RhaqaUEPsOUPmWUP1shyT0UFcED9fqCATkOyqNRZ2cEBVN6p36+p2oHav2SBkn7SYh4ThtLSiwxLFfkAGihe60brXtGRFtThgLsdLlPYce2u18ZO8QSwgyQ2jor7qxNieb4gY6dpqf3DTI2B9eehOliy6EZvXPHyNEqCoRAtOLYMYFD9HO9DaQq2RDRlrqdvIV0rWd7qbQBJOsQPVInIYhig9+is7wqNwNHSliEgaIWUpKVWXAPs2R9rOBbJPcqoDj4pYFzmKHXo01JGSJVZ70eTlEcYmONRMuwjV7/vNjTDZSNAu0iz6Xm9HSoCiClRTIDSM+LqjeDkq1F3wAgalA1BeQHYlrKLNVHfj1jARkkqfStTIIRdbpjGHHq3QhBGoL5f5opEfUoog0gvxkbb5Qksu6djbaqQO2rOWvNLokxS2q0JNASKlUBp6TiwvqxPq/VvGcFMpqcW/NtPsKShEdvp40IKGNq8IO8LuA6oOb8yOpKdQ9egQ45X6j5k6CaLoVw98wgG0XX8H2VWJahMXBp1wDop9ogoltzh1EiR3ppCRQxhis0xjKsJy0SDBM4Up96X0olXU9WhZrdVAyn8s7qezhIhQwgD+OWjMmhJ1hxFnE8KaQhlQ6nVStKXnzxbMOW9Izn5zceytU8dT/3IH7bJaXWKYzxQHgmmoifKn9B1pECWqHpNHT6Hqz/QYBhtX6hRFv8H2mrXzhEilTXbVIdKz23CeECR50JaRgwyxVZ+QJkgcceiTjiEiRCjCoKVjGPmnzN9Nyh4XUVffuQhHiZbIiQW8EcRqz2wwZjTnjWY8tFuKeVMk3SfmczOgwKPtSNQH5ezXhZ5CXerA66dugMEaKbQ2tqpS8dLCgRIRIHS7ug3nCUGSTqEbQhvaaEIJ531k2IdNua4e+XeUaCroedGUDshDGGpKINQW6a1H2EGQHE1Nv64rPTFhas/8+td5olkbp3GoNvVnHL7rwt8M6ez6vtwJbx76jnT96IGwHvXCiONJndZFP1cIgoFDP4cJu9Ic5daTtFMYkSNG6iQInimCvye4UFto1D1CxiNedQZfB9bjESkTr1XbqI9u9XWeEx0iShG6A6kYB8FgCiXSL7GDBPvW0qywxTTnvJFyc4neXptp3IW12rFTENaf/jp43ZSMdsKX5dkqYcxnimgvJARyR7oB6Dum2Yhjso5+tXOFgM4TRlqtnSsS6uMGw//JiGEsJL9TMMyfKOwUDGOBnYJhLLBTMIwFdgqGscBOwTAWUlyeJX4lyzAm+PcUDGOB0yeGscBOwTAW2CkYxgI7BcNYYKdgGAvsFAxjgZ2CYSywUzCMBXYKhrHATsEwFtgpGMYCOwXDWGCnYBgL7BQMY4GdgmEsJOYUiwvwLvpkIVlW4VtYgM8vi4wG6/aOISGn6Ot0YU+nV5aSZRFvvenCkc9k8c8CLwYuz8K5js2zbu8cOH26Jfjw++4F9LplkbmjSTtIyM8xcfa78V+w4e+2ZmsVLheauuZwrNuN865l2O/KRGF2LD9bwaeXl+EutCH/82k0dLpxdnQJ9jwbinLS5D3R8ODsO3Nwb1zFxT+40HBpBX/1pQ3IprTB+78uHO+cRcNHXrgX1rC1MAu2FPmYwDWD9q4Z/KJ3HmPLAdyf4sWRvmU8UJwN2/wMWjo98N1jR2GmvP/aNBp1uVoRow//PPp6Z/Av5+bw1udLWMtOw9a7MwC17SV0uQMY9SxiwKugzOgkSJhuqb3e92dwrHcO7f1LWEpTcH9++HOh3A7d+uD8lOTvzeIXl6X8XpKTxPvpBI4MB/CAz4OjZ2fx2scL8ASABwvM81i//UhtBEitIbqYn8NZ0v0r77nROUbzzc9CkWGHcdiGheR3is+dqGldRH+2Dfv/egPKAj489+YU+uJMi/svzuDns+nY89VsVNpX0XBqEu2Tq1IajVVcGfKh8YwXV3Izsf/LmbBTrfPDCdR0+pB7Xzae2Z4B32ce1PzWRUmLZHISPzy1gL5seuarWSie9eLguWW0j5HChHx5FeeG/BheVu/W8PiDcmL9Prw42z6Ln06kYs/X7sLT9yk4fcalzSczHaX3piMfKSgusKFsUxwqD8zhSBMtoisVZTvt2H8f8O57c2jsNw8wOrdStzPnp/BUjx/52+z4WbkN3n4PftTtUWVeF+nwUw8Odq+ieFs29n8xFf3nZ/FDKReEtm9D7tg8ak5OGn+LRG+j4UIAW6mNJzYFcPy/ST+fy/kIXbV6cHIpA/v/diNqxHyFHS5q4pi2EQnxxQXxcuF3Q0rF71xaYWVe6R/zaJ9VZpXjbwwpv/wfWYyKWzndPKQ8dmpKmZc1iuJXhjqHlcfap5UVWRMZl/LLV4eUn/QtyjKxNqP86uiwcnzELysIWXdyTBSWlHPtQ8qTnbOqSGNROXeK5tI8oYyL4uSE8k+vjiinJ1WhxsfXgvKYfYhxjSgnJ1SJimvaraz4ZEHKQ9q3EKLbtSXFNTyruNa0okDVz9tSHpVbrVtt3H/f5dYKArdHGVrQehp/f0SpeG1MObegFjVGnMqTok7cskZ9vjak/Krf3D7Z0b8PKYc/WlKLahtvjCv9hi78ap/fOiPXU127MeUDQ066m5hXVkQ5jvFHIvmdwmZH6aZ0OEdm0HtxEkffWcQ5sUusaWJn9ygqfz1susbRp4lUHi7KViORRjq2bM6AjaLCgChOUWQPeXYYjZ+oN6rkZckUQ3DNh65AGmxzbvRedmnXVYrwlG70T4nIuozhOaBs893a/SrZKCtJl5/jIGYfNjyQF8DRt8dw9MMZDLiWkJe/ETba5pMiNQt5m3Ngn51D3+VptHeM4+ioAt8dp1vQ7peG4U/ceK6DovPIPHzZudiSoyWcKvZ0PJAjPwuKMvF1G+1K4k8mXPOjFxkoKzWtRerdeNgB9E6YdsWMVNgNS01H4d2p8PooDxPkk+6pvYP/OY72i7MYXqA5FNhhE/fHMf5IJO0U3k/Gse+NKfzowxVQOofi+zJRZtKnY2ce2vfmmy6arJQJ8nIs+THN2uFXKCsmyKB+FvJsPp7+onpXOEsBzKQGMDTmQ69xrcJ2Twa2ZgkrCsDlS0GuaZ0ECRlszD7sqKzKx6s7qNFri/jJ6Sk8fowMVW7hCbM4g8ZjTux5awFnqR/kZaKyMLhUd45uqa+d96Dlmzkogx9NlPPveWOEnGxJlalkkUHLjxpUJjX5RAAV7dPZq1ATGOTRM4bRx4Kc6Ol9X8BLIjX7bAHPnpjE4yL9Eo/HMf5IJOkUC+R1fhQ+mIffVBfimYoCVG5LQ6a5HxtFutwNpsvkMUTfVGhW5xtfxcDGNBSLAkXK0Gc3RDfi/DSU+in3/hsaxzdCr5ptG+iGDBTbFVxxUggxMTxlGuxdqWELg4Dp67Bi9iHIxJYvF2D/t4vQ9P1NqMv1Uy5NW1QSeK8uoZ0idtP37kXdNxzY81Aeiim6GdwxutWwO/Kxp+Iv0PDkFrTsTEV7jxtXpQyetdA/vEnecGU+lXYY+uxIx8MLfiprIo1l9E8HsD0/gaiVlo3tf3kP6qqL0LKfzhXLy2i8QOsd5/itJOkUmRSNAJdXP7ytYuaPizgdfUcKY6Z/AS20vanMu3Ckb5W20RzkaTXxk5eLJwpW0fguHZ704HKNUoR/G0X7lCjkYndpGqUhHvTOy/GSvLHfbGQ2bM0J4N1Lc9TGKnyT02g4bzqYxuqDUpJ/OOoMzsfvxwzpYkuOWb0KXAvmtxAe9L/fg+HgmdPATpHdRrnSjP5LuJlpHB+M/zvrbp1uPWg/cc10cPZhxkPjpEhv9LW8gp//QcoDFEzfXUIX7Xy7xQ25djxesIYjXXr7lNpcnUXjdBq+vS1XVMTERxnL48emgmu7QHqjeOew024Zc/yRSegbAvt+P4w62gzPfpNmNDmFg2/TBCk1yaMFt23OQiVZgvfhLXjmfvlARIQi5zD0JdpUP/LiLbHwNIktpbl4qeILlq3WCqUVv6Yo+DVLH4tzaH9nHkemaBxpFGmVFFQ+dBee27lR3rCEqx0uPDsQUOW+jAz89EGg7uM0NO0tUP/cl3fAiWc7faBbYMsKl6/fxyqc5yfx7EVa1PQUCoYK8jZl46U9m+BQ/YLkvRN46o9r8OVlo/27m2CffBP/+FAnqj95GZXURIhuAx6cbXejgfoSqYY3LQNPF62hcTlHk0flNuhW2kGvPwV2MiWvLR11j1HmUEDnTTr77BtKxzN5fhwZoefpdt8GG+nFge36OcPUvhqiU9Kw/+t5qCnWdj+tDVtwHfS6OV0XwbW1UwdeigUh841pG+Fc59dmin9WsEJGlkkDSuDgaqA9D9s6W3gi+BbhXaHFsaQTBv4leCmCq3KKMJV9JqOPl/X6CFBQoEhly4pjPldewaMvbsTr//E9bJFVYYi+aPu3b8iSFYlwK3Ur7SAlA3bTITvEoMXzq+kh8hCua66EurZk+BtytEO2lXXHH0qS6ZNOOg2C8tKkHEKgPX9DFk2g5trrTDojOy6lrMt6fch8PZ75uK8NABU7ojuEQPSVrJHcUt1KO4hm8ALxfCx50nMl1LWN4hCCdccfynU6xf9jKM1xZKXI31bfBrbW4JXvbpeFP01sZKG3VcdJwt86zjAW/nx3CoaJAjsFw1hgp2AYC+wUDGOBnYJhLLBTMIwFdgqGscBOwTAW2CkYxgI7BcNYYKdgGAvsFAxjgZ2CYSywUzBMCMD/AaRc849uavBxAAAAAElFTkSuQmCC"},3185:(e,t,s)=>{s.d(t,{A:()=>i});const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALcAAAAzCAYAAADVT5lRAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAUESURBVHhe7dxtaFtVGAfwf5IuTZO+pUktXR1sdU0dDB0yGVOZVpiCyJDh3sqcX4af9ctEQeyYqCgThdGJMhXEbnNthxtTN5l1g6FgN5UpyhBcbRfXtWFtmrRJ03ae5+bcpd3a0sacm97j84PSe0+aS1P+ffqcc0/quCGAMQ055WfGtOOIREe4cjMtcVvCtMVtCdMWh5tpi8PNtMXhZtricDNtcbiZtjjcTFscbqYtvokzB0PxJIYTKaTGJzDfH5fD4cAilxNezyKU+ArlKLMCh3sWYyLMkYFhjI6Ny5H/xl3gQqDciwIRdqYe/5RnkctgE7oWXZNZg8M9A2pFchlsE12Trs3Uy3m4qccZGEogmRpLD9gU9diqqLw2y8h5z50YHUPf9bhxXOn3weMuMI7tpudadNrJ44+dF3D/6vvkWXZoknnnHaXyLD/iI6MYjCUxPjEhR+bG5XSirLgQviK3HFm4cl65C0WY6YNQyBNJe1bwmYLdtOct4zPp6u7Bl1+fwtEvTqC1/Ri+/6ETsXj6F3s2C2EOn02wCT2HnmsHSlZL6Ip9A3EkRRV3iPOgDSt4d++gPJrKDHgotBxejwc1NdUIBgOIxeLo6urG+Z9+wePrG7C9cTP8/nL5rNstqSqTR/lhvr75fh/ZPi8flC0F2j3gM4WbtBxqEx+tePnF5/HA2jVyNC0uQt569DhOd5zBS7tewIq7Q/KRqTjc6rmaBHmcU6KtFJXNLSaW48Z68YiYRLlFuO2yxhudZkWjv78fx46fxLatG1G3vBZ7Xt+LimAZuruv4K/LXSgQry8YCGDVvStRVlqK5vcPoOGRh+ARFf5WZcW3j1nJfH3z/T6yfV4+KE0aBbyy3Gf04PTnoZ96cFHJ7eqrk6fhdNHfIRiTyqZXdqG97QQ6vjuHX3/7A4cPtqEnHDYef7RhHR5e9yA+bTlinDPrKS+j6YB7bwacJplUye0mGo2J6vw3Njz5hBxJB/y5nTtwQfTZa9eshrvIi0uX/pSPAls2b8SpbzoQiVyXI8xKlvUITkq5jaVSKXSe/xkTN6b+YpoVnCaZfX39cjTNKV7yivoQijy8pyQflIc7PbEcxkgyZUwsae3bjnsrAgE/HlvfgMOft8uRDDPgV/+5imQy06sfOtKOpbVL4PV55QizktKU6bAkONkzjZtw5uw5fNtxVo5kmC3KvuYDxnJhy8FWdF3uwaanNsivYFZTtlpi92BPt1pCqx719XXYt/9Dowevu2sZ3O7MnbqaxdUI1dVi92tv41okgmd3bEPtsqXy0al4tUQ9JZVbt4o9Ga1bv7f3DRHuKLZs34lXd7+Jjz75DPs/+BjvvNtsVPDGrU+LFqUXo5NaFGa9nN/EoYvRiggFmwTLfSgqtF+wZ7uJY6Jb7Rcv/o4r4bDotUdRXV2FVfesREWF/+adTOrFKfC34ps46qndOCWC7bFhsMlMG6fmgwI+XbAXwsYpDncW6GKDQwmjWpsbqOyoNxJTsp+b0DtyqgLF8iw/wn1DWW2cIrQzcHFliTxbuHLec1OPXV7isXWwCb3nURWV154r2rZKIZ0vc8urHSjbOKUDFdV7IVTt/wv73U2xEL2Zl8KYK+YbhJk1uHLPAf9rB3vicDNtcVvCtMXhZtricDNtcbiZtjjcTFscbqYtDjfTFoebaYvDzbTF4Wba4nAzbTki0RHeW8K0xBunmLa4LWGaAv4Fn68p/0Vxo0oAAAAASUVORK5CYII="},3729:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"dashboard/flows/import-flow-traces/import-flows-via-la","title":"Import flow traces via LogicApp workflows","description":"Invictus is fully supported to import flows from LogicApps. It allows to keep track of the execution tree of the ran workflows, plus with tracked properties you can trace specific data for your needs besides the general diagnostic settings.","source":"@site/versioned_docs/version-v6.0.0/dashboard/flows/04_import-flow-traces/import-flows-via-la.md","sourceDirName":"dashboard/flows/04_import-flow-traces","slug":"/dashboard/flows/import-flow-traces/import-flows-via-la","permalink":"/docs-ifa/dashboard/flows/import-flow-traces/import-flows-via-la","draft":false,"unlisted":false,"editUrl":"https://github.com/invictus-integration/docs-ifa/edit/master/docs/versioned_docs/version-v6.0.0/dashboard/flows/04_import-flow-traces/import-flows-via-la.md","tags":[],"version":"v6.0.0","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Import flow traces via DataFactory pipelines","permalink":"/docs-ifa/dashboard/flows/import-flow-traces/import-flow-via-df"},"next":{"title":"Users","permalink":"/docs-ifa/dashboard/security/users"}}');var n=s(4848),o=s(8453);const r={},a="Import flow traces via LogicApp workflows",c={},l=[{value:"Enable workflow diagnostics",id:"enable-workflow-diagnostics",level:2},{value:"Map Dashboard flows to LogicApp workflow runs",id:"map-dashboard-flows-to-logicapp-workflow-runs",level:2},{value:"Execution tree of sequentially ran workflows",id:"execution-tree-of-sequentially-ran-workflows",level:2},{value:"Tracked properties of workflows",id:"tracked-properties-of-workflows",level:2},{value:"LogicApp inputs/outputs",id:"logicapp-inputsoutputs",level:3},{value:"Errors on LogicApp level",id:"errors-on-logicapp-level",level:3},{value:"Workflow operations via Dashboard",id:"workflow-operations-via-dashboard",level:2},{value:"Resubmit",id:"resubmit",level:3},{value:"Resume",id:"resume",level:3},{value:"Ignore",id:"ignore",level:3},{value:"Example scenarios",id:"example-scenarios",level:3}];function d(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components},{Details:i}=t;return i||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"import-flow-traces-via-logicapp-workflows",children:"Import flow traces via LogicApp workflows"})}),"\n",(0,n.jsxs)(t.p,{children:["Invictus is fully supported to import flows from LogicApps. It allows to keep track of the ",(0,n.jsx)(t.strong,{children:"execution tree"})," of the ran workflows, plus with ",(0,n.jsx)(t.strong,{children:"tracked properties"})," you can trace specific data for your needs besides the general ",(0,n.jsx)(t.strong,{children:"diagnostic settings"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"enable-workflow-diagnostics",children:"Enable workflow diagnostics"}),"\n",(0,n.jsx)(t.p,{children:"For the Invictus Dashboard to know if messages went through your Logic App workflow correctly or not, diagnostic settings need to be configured on all Logic Apps that you want to include. These settings should stream their diagnostic traces to the Invictus EventHubs resource:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"EventHubsNamespace"}),": ",(0,n.jsx)(t.code,{children:"invictus-{env}-we-sft-evnm"})]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"EventHubsName"}),":","\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"invictus-{env}-we-sft-evhb"})," (Logic Apps Consumption)"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"invictus-{env}-we-sft-evhb-v2"})," (Logic Apps Standard)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsxs)(t.p,{children:["Make sure that the ",(0,n.jsx)(t.code,{children:"WorkflowRuntime"})," is ",(0,n.jsx)(t.strong,{children:"\u2705 checked"}),", but the ",(0,n.jsx)(t.code,{children:"AllMetrics"})," is ",(0,n.jsx)(t.strong,{children:"\u274c unchecked"}),". Otherwise you will send far too much events to the EventHubs."]})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"diagnostics",src:s(4755).A+"",width:"542",height:"513"})}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["\ud83d\udd17 See ",(0,n.jsx)(t.a,{href:"https://learn.microsoft.com/en-us/azure/logic-apps/monitor-workflows-collect-diagnostic-data?tabs=consumption",children:"Microsoft's documentation"})," on how this can be configured manually."]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Alternatively, you can update your Bicep template to include them, using ",(0,n.jsx)(t.a,{href:"https://github.com/Azure/bicep-registry-modules/tree/main/avm/res/logic/workflow#parameter-diagnosticsettings",children:"AVM"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bicep",children:"{\n  ...\n  diagnosticSettings: [\n      {\n        name: settingName\n        eventHubName: eventHubName\n        eventHubAuthorizationRuleResourceId: resourceId(\n          resourceGroupName,\n          'Microsoft.EventHub/namespaces/authorizationRules',\n          eventHubNamespace,\n          'RootManageSharedAccessKey'\n        )\n        logCategoriesAndGroups: [\n          {\n            category: 'WorkflowRuntime'\n            enabled: true\n          }\n        ]\n      }\n    ]\n}\n"})}),"\n",(0,n.jsx)(t.h2,{id:"map-dashboard-flows-to-logicapp-workflow-runs",children:"Map Dashboard flows to LogicApp workflow runs"}),"\n",(0,n.jsxs)(t.p,{children:["Make sure that any ",(0,n.jsx)(t.a,{href:"#tracked-properties-of-workflows",children:"tracked property"})," in the workflow matches these values in the ",(0,n.jsx)(t.a,{href:"/docs-ifa/dashboard/flows/add",children:"flow created via the Dashboard"}),":"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"WorkflowName (if present)"}),"\n",(0,n.jsx)(t.li,{children:"Domain (if present)"}),"\n",(0,n.jsx)(t.li,{children:"Service (if present)"}),"\n",(0,n.jsx)(t.li,{children:"Action (if present)"}),"\n",(0,n.jsx)(t.li,{children:"Version (if present)"}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"execution-tree-of-sequentially-ran-workflows",children:"Execution tree of sequentially ran workflows"}),"\n",(0,n.jsx)(t.p,{children:"When expanding the flows in the Dashboard you should be able to see what workflows have been executed sequentially to process the message."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"execution tree",src:s(7219).A+"",width:"1917",height:"931"})}),"\n",(0,n.jsxs)(t.p,{children:["To link one workflow with another the ",(0,n.jsx)(t.code,{children:"x-iv-parent-workflow-run-id"})," ",(0,n.jsx)(t.a,{href:"#tracked-properties-of-workflows",children:"tracked property"})," needs to be set when designing the Logic App."]}),"\n",(0,n.jsxs)(t.p,{children:["The value for the property needs to be the ",(0,n.jsx)(t.code,{children:"WorkFlowRunId"})," that you wish to link the LogicApp to. The below logic app is using the following tracked property to promote the ",(0,n.jsx)(t.code,{children:"WorkFlowRunId"})," of ",(0,n.jsx)(t.strong,{children:"LogicAppChain-A"})," as a tracked property in ",(0,n.jsx)(t.strong,{children:"LogicAppChain-B"}),"."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Key"}),(0,n.jsx)(t.th,{children:"Value"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"x-iv-parent-workflow-run-id"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"@{triggerOutputs()?['headers']?['x-ms-workflow-run-id']}"})})]})})]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"execution tree",src:s(7132).A+"",width:"1647",height:"237"})}),"\n",(0,n.jsxs)(t.p,{children:["In the example above, the ",(0,n.jsx)(t.strong,{children:"x-iv-parent-workflow-run-id"}),"\xa0was set in ",(0,n.jsx)(t.strong,{children:"LogicAppChain-B"})," linking it with ",(0,n.jsx)(t.strong,{children:"LogicAppChain-A"}),". ",(0,n.jsx)(t.strong,{children:"LogicAppChain-C"})," was not linked to ",(0,n.jsx)(t.strong,{children:"B"})," or ",(0,n.jsx)(t.strong,{children:"A"})," thus is not considered part of the chain."]}),"\n",(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"ClientTrackingId"})," is the identifier used to link transactional messages together, this ID is by default generated for every run in LogicApps, but can also be manually set by the developer. Since async flows might change their ClientTrackingId due to routing, the ClientTrackingId will need to be reset in the LogicApp as soon as possible."]})}),"\n",(0,n.jsx)(t.h2,{id:"tracked-properties-of-workflows",children:"Tracked properties of workflows"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"Milestone"})," and ",(0,n.jsx)(t.code,{children:"EventText"})," are properties set and displayed by default. For the ",(0,n.jsx)(t.code,{children:"EventText"}),", if the value re-appears in several workflows, instead of overwriting/updating its value, all data is appended as a single value, separated by comma."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"execution tree",src:s(1608).A+"",width:"1508",height:"247"})}),"\n",(0,n.jsx)(t.h3,{id:"logicapp-inputsoutputs",children:"LogicApp inputs/outputs"}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["\ud83d\udee1\ufe0f For this feature to function properly some role assignments need to be set in your Invictus installation. Please see ",(0,n.jsx)(t.a,{href:"/docs-ifa/dashboard/accesscontrolrights",children:"Access Control Rights"})," for more info."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"The message content view allows the user to track the outputs and inputs of an action. The image below shows an example of the input and output of an action being tracked. These are visible per LogicApp in the workflow events table."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"execution tree",src:s(2737).A+"",width:"197",height:"70"})}),"\n",(0,n.jsx)(t.p,{children:'The links in the above image are the friendly names set in the tracked properties of the "tracked" action. The links will point to their respectively input/output content.'}),"\n",(0,n.jsx)(t.p,{children:"To track the input and output of an action in a LogicApp the below tracked properties have to be set in an action."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Property Name"}),(0,n.jsx)(t.th,{children:"Sample Value"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"x-iv-messagecontent-input-name"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"ActionInput"})}),(0,n.jsx)(t.td,{children:"This is the friendly name displayed in the ClickThrough/ExecutionTree, the value can be anything you like. The value has to be a single word"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"x-iv-messagecontent-input-content-type"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"application/json"})}),(0,n.jsx)(t.td,{children:"This should have the same content type as the data type when opening the input link for an action"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"x-iv-messagecontent-output-name"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"ActionOutput"})}),(0,n.jsx)(t.td,{children:"This is the friendly name displayed in the ClickThrough/ExecutionTree, the value can be anything you like. The value has to be a single word"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"x-iv-messagecontent-output-content-type"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"application/json"})}),(0,n.jsx)(t.td,{children:"This should have the same content type as the data type when opening the input link for an action"})]})]})]}),"\n",(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsxs)(t.p,{children:["The inputs and outputs content views can be set up independently or together. The only requirement is that if the ",(0,n.jsx)(t.code,{children:"-name"})," is present then the ",(0,n.jsx)(t.code,{children:"-content-type"})," has to be also present for the desired output."]})}),"\n",(0,n.jsx)(t.h3,{id:"errors-on-logicapp-level",children:"Errors on LogicApp level"}),"\n",(0,n.jsx)(t.p,{children:'If the corresponding logic app has resulted in an error, the error information can be seen in the within the "Logic App Details" modal.'}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"execution tree",src:s(3751).A+"",width:"1920",height:"917"})}),"\n",(0,n.jsx)(t.p,{children:"For any additional details or insights, the user can also navigate directly to the Azure Portal."}),"\n",(0,n.jsx)(t.h2,{id:"workflow-operations-via-dashboard",children:"Workflow operations via Dashboard"}),"\n",(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsxs)(t.p,{children:["Requires the ",(0,n.jsx)(t.code,{children:"x-iv-parent-workflow-run-id"})," to be set on the workflows to run properly.\nFlows linked to LogicApps workflows can be resubmitted and resumed via the Dashboard both separately (",(0,n.jsx)(t.code,{children:"Flow Actions button"}),") and in batch (",(0,n.jsx)(t.code,{children:"Selecting multiple flows"}),")."]})}),"\n",(0,n.jsxs)(t.p,{children:["To manipulate the default resubmit/resume operations, you can also do ",(0,n.jsx)(t.a,{href:"/docs-ifa/dashboard/flows/import-flow-traces/custom-resumeresubmit",children:"custom resubmit/resume"})," of flows."]}),"\n",(0,n.jsx)(t.h3,{id:"resubmit",children:"Resubmit"}),"\n",(0,n.jsx)(t.p,{children:'The Resubmit functionality will always trigger an "Azure Resubmit" for the first LogicApp in the Chain. Resubmit will trigger the execution of any corresponding flow, even completed ones. When Resubmit is triggered, the first Logic App in the chain (execution tree) is resubmitted on Azure thus retriggering the whole flow.'}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"resubmit",src:s(559).A+"",width:"1435",height:"249"})}),"\n",(0,n.jsx)(t.p,{children:'If we had to take the above image as an example. If Resubmit is executed for this flow, "LogicAppChain-A" is Resubmitted on Azure. The below image is the outcome after "LogicAppChain-A" is re-executed through the resubmit.'}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"resubmit",src:s(6944).A+"",width:"1441",height:"385"})}),"\n",(0,n.jsx)(t.h3,{id:"resume",children:"Resume"}),"\n",(0,n.jsx)(t.p,{children:'The Resume function executes an "Azure Resubmit" for each failed function in the chain. Resume only works on messages with the status Failed. Also, the Resume does not start from the first logic app within its flow, as with the Resubmit, but instead executes only the failed logic apps.'}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"The only exception is that if a Parent Logic App of a failed Logic App has also failed, then only the Parent is executed"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"ignore",children:"Ignore"}),"\n",(0,n.jsx)(t.p,{children:'Users can choose to ignore a message, normally this could be the case when a message is in failed status. The user can select one or multiple messages and choose to "Ignore" them.'}),"\n",(0,n.jsx)(t.p,{children:"When a message has been set to be ignore, its status will change and show as follows"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"handling buttons",src:s(3185).A+"",width:"183",height:"51"})}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsxs)(t.p,{children:["It's possible to use a ",(0,n.jsx)(t.strong,{children:"custom resubmit and resume"}),", see ",(0,n.jsx)(t.a,{href:"/docs-ifa/dashboard/flows/import-flow-traces/custom-resumeresubmit",children:"this page"})," for more information."]})}),"\n",(0,n.jsx)(t.h3,{id:"example-scenarios",children:"Example scenarios"}),"\n",(0,n.jsx)(t.p,{children:"The below examples are a representation of the Flow Row and the Execution tree with different Resume and Resubmit scenarios."}),"\n",(0,n.jsxs)(i,{children:[(0,n.jsx)("summary",{children:"Scenario One: resubmit first in the chain"}),(0,n.jsxs)(t.p,{children:["In this scenario, a resubmit was executed on Logic App 1. Since the LogicApp is the first one in the chain, which can be identified by the null x-iv-parent-workflow-run-id, this scenario will be handled as a ",(0,n.jsx)(t.strong,{children:"Resubmit"}),". As soon as we receive the events for 4, 5 and 6 we will link 4 with 1 through the OriginWorkFlowRunId which is supplied by the LogicAppRuntime and ignore all descendants of 1."]}),(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"scenario 1",src:s(4461).A+"",width:"688",height:"300"})})]}),"\n",(0,n.jsxs)(i,{children:[(0,n.jsx)("summary",{children:"Scenario Two: resume further down the chain"}),(0,n.jsxs)(t.p,{children:["In this scenario, the resubmitted logic app Is number 3. Since this is not the first LogicApp in the Chain, this will be handled as a ",(0,n.jsx)(t.strong,{children:"Resume"}),". As soon as we receive the events for number 4 we can immediately link it to number 1 since it will still have the same x-iv-parent-workflow-run-id. Through the OriginWorkFlowRunId of 333 LogicApp 4 is then treated as a resubmit of 3. In the case of a resume, only the resubmitted LogicApps and its descendants are ignored and not the whole chain."]}),(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"scenario 2",src:s(313).A+"",width:"712",height:"228"})})]}),"\n",(0,n.jsxs)(i,{children:[(0,n.jsx)("summary",{children:"Scenario Three: resubmit further down the chain"}),(0,n.jsx)(t.p,{children:"This will be similar to scenario two. In this case the developer decided to resubmit LogicApp 3. This can only be achieved through the azure portal as the Invictus Dashboard will only resubmit Failed LogicApps."}),(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"scenario 3",src:s(6495).A+"",width:"738",height:"305"})})]}),"\n",(0,n.jsxs)(i,{children:[(0,n.jsx)("summary",{children:"Scenario Four: resubmit multiple further down the chain"}),(0,n.jsx)(t.p,{children:"In this scenario the developer resubmitted LogicApp 2 and LogicApp 3."}),(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"scenario 4",src:s(8464).A+"",width:"747",height:"344"})})]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},3751:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/v2_events5-dac53349d9040b68fcf1eeaba3add689.png"},4461:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/import-scenario1-0ffee6cc98c75998768fa7eeaf63b65f.png"},4755:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/ladiagnostics-aaf4a141304a1f15cc9f7cab3ea96067.png"},6495:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/import-scenario3-a8fd8fe3769d7281a162a9baf00ed03b.png"},6944:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/fh-resubmit2-4c059d65f3ff27e529b87baf5efcacfd.jpg"},7132:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/import-executiontree-7ec57fe33b20a3ec69a6c47269bfb0d9.png"},7219:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/v2_events1-6ec998c71dcfe22a504d37e0e3cf85a5.png"},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>a});var i=s(6540);const n={},o=i.createContext(n);function r(e){const t=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),i.createElement(o.Provider,{value:t},e.children)}},8464:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/import-scenario4-68bb8a8ceea2b97e891f2900db3c4b82.png"}}]);