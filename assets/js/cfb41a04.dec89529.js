"use strict";(self.webpackChunkinvictus_integration=self.webpackChunkinvictus_integration||[]).push([[7412],{6218:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/transco-samplecode-1d207dc747c8036e672c2ab4cd05a22c.png"},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var t=s(6540);const i={},l=t.createContext(i);function o(e){const n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(l.Provider,{value:n},e.children)}},8820:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"framework/deprecated/transco-assemblies","title":"Transco - Custom Assemblies","description":"## \u26a0\ufe0f Attention","source":"@site/versioned_docs/version-v6.0.0/framework/deprecated/transco-assemblies.md","sourceDirName":"framework/deprecated","slug":"/framework/deprecated/transco-assemblies","permalink":"/docs-ifa/framework/deprecated/transco-assemblies","draft":false,"unlisted":false,"editUrl":"https://github.com/invictus-integration/docs-ifa/edit/master/docs/versioned_docs/version-v6.0.0/framework/deprecated/transco-assemblies.md","tags":[],"version":"v6.0.0","frontMatter":{"sidebar_class_name":"hidden"},"sidebar":"sidebar","previous":{"title":"Publish / Subscribe","permalink":"/docs-ifa/framework/deprecated/pubsub"},"next":{"title":"Transco - Extraction","permalink":"/docs-ifa/framework/deprecated/transco-extraction"}}');var i=s(4848),l=s(8453);const o={sidebar_class_name:"hidden"},c="Transco - Custom Assemblies",a={},r=[{value:"\u26a0\ufe0f Attention",id:"\ufe0f-attention",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Extensions",id:"extensions",level:2},{value:"Assemblies",id:"assemblies",level:2},{value:"XSLT File",id:"xslt-file",level:2},{value:"Transco Config XML",id:"transco-config-xml",level:2},{value:"Example",id:"example",level:2},{value:"HTTP Request Test",id:"http-request-test",level:2},{value:"Decoded Content",id:"decoded-content",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"transco---custom-assemblies",children:"Transco - Custom Assemblies"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.h2,{id:"\ufe0f-attention",children:"\u26a0\ufe0f Attention"}),"\n",(0,i.jsx)(n.p,{children:"This is the V1 version of the Transco, which is deprecated and will thus no longer be extended."}),"\n",(0,i.jsx)(n.p,{children:"Maximum supported .NET version is .NET Framework 4.7.1"}),"\n",(0,i.jsxs)(n.p,{children:["For the supported version, please see ",(0,i.jsx)(n.a,{href:"/docs-ifa/framework/transcoV2",children:"Transco V2"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsxs)(n.p,{children:["This documentation will give you an overview of the Transco custom assemblies and how to trigger a basic call. To use this feature you will need to have the below files, these will be explained in detail individually. It is suggested to go through the ",(0,i.jsx)(n.a,{href:"/docs-ifa/framework/deprecated/transco-extraction",children:"Transco Extraction"})," section first to get a better understanding of how to use and call the Transco API/Function."]}),"\n",(0,i.jsx)(n.h2,{id:"extensions",children:"Extensions"}),"\n",(0,i.jsx)(n.p,{children:"The extension file is used to link the XSLT with the Assembly(dll), this is then used by the Transco component to know which DLLs to download before executing the Transco."}),"\n",(0,i.jsxs)(n.p,{children:["Create an xml file with the xml below and upload it to the ",(0,i.jsx)(n.strong,{children:"extensions"})," subfolder within the Transco configs ",(0,i.jsx)(n.strong,{children:"transcoconfigsstore"})," container."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<ExtensionObjects> \n    <ExtensionObject Namespace="http://tvh.demos.sharedFunctions" AssemblyName="TVH.Sample, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" ClassName="TVH.Sample.Common" /> \n</ExtensionObjects>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["If your assembly has ",(0,i.jsx)(n.strong,{children:"Dependencies"})," which are required during execution then add them to the ExtensionObject ex:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<ExtensionObjects> \n\t<ExtensionObject Namespace="http://tvd.dependency.sharedFunctions" AssemblyName="TVH.Dependency, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" ClassName="TVH.Dependency.Common">\n\t\t<DependenciesObject>\n\t\t\t<DependencyObject AssemblyFileName="Dependency.dll" />\n\t\t\t<DependencyObject AssemblyFileName="DataDependency.dll" />\n\t\t</DependenciesObject>\n\t</ExtensionObject>\n</ExtensionObjects>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Notice the ",(0,i.jsx)(n.strong,{children:"DependenciesObject"})," and the ",(0,i.jsx)(n.strong,{children:"DependencyObject"}),". Ensure that the Assemblies are uploaded to storage inside the assemblies folder and that the exact name for the dll matches the one in storage. Note: Only add the required dependencies as adding all dependencies can greatly reduce the execution speed since each dll has to be downloaded from storage."]}),"\n",(0,i.jsx)(n.h2,{id:"assemblies",children:"Assemblies"}),"\n",(0,i.jsxs)(n.p,{children:["To execute functions within your Transco function you will need to include the dll/assembly which contains the function, the assemblies need to be uploaded to the same container as the Transco configs ",(0,i.jsx)(n.strong,{children:"transcoconfigsstore"})," but need to be in a subfolder called ",(0,i.jsx)(n.strong,{children:"assemblies"}),' example: "assemblies/[dllname].dll"']}),"\n",(0,i.jsx)(n.p,{children:"Sample code to be used later in the sample call:"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"sample code",src:s(6218).A+"",width:"720",height:"227"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"xslt-file",children:"XSLT File"}),"\n",(0,i.jsxs)(n.p,{children:["The XSLT file must reference the extension namespace used in the extensions file using the ",(0,i.jsx)(n.code,{children:"xmlns:extensions"})," attribute. After this has been set, the developer can then execute the functions within the DLL."]}),"\n",(0,i.jsx)(n.p,{children:"XSLT Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:ns0="http://tvh.demos"  \n   xmlns:extension="http://tvh.demos.sharedFunctions" version="1.0" >\n   <xsl:template match="/ns0:SampleInput">\n      <SampleOutput xmlns="http://tvh.demos">\n         <Field1><xsl:value-of select="ns0:Field1"/></Field1>\n         <Field2><xsl:value-of select="extension:GenerateGuid()"/></Field2>\n      </SampleOutput>\n   </xsl:template>\n</xsl:stylesheet>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"transco-config-xml",children:"Transco Config XML"}),"\n",(0,i.jsx)(n.p,{children:"As stated earlier you will need to set the Assembly and the BTM to be able to execute custom functions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<TranscoConfig xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://www.codit.be/Schemas/Transco">\n  <BeforeMapping/>\n  <AfterMapping />\n  <Mapping Assembly="extensions.xml" XSLT="transcoAssemblies.xslt" />\n  <Options>\n    <Caching CachingType="Default" CachingDuration="0" />\n   </Options>\n</TranscoConfig>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Create an extensions.xml file using the above XML in the Extensions section and upload it to the extensions subfolder mentioned."}),"\n",(0,i.jsxs)(n.li,{children:['Create a project TVH.Sample and add a class named "Common". Within the class add the code found in the ',(0,i.jsx)(n.strong,{children:"Assemblies"})," section. Upload the dll for this project to the assemblies subfolder."]}),"\n",(0,i.jsxs)(n.li,{children:["Create a Transco config ",(0,i.jsx)(n.strong,{children:"transcoAssemblies.xml"})," and set the Assembly and BTM/XSLT ex: ",(0,i.jsx)(n.code,{children:'<Mapping Assembly="extensions.xml" XSLT="transcoAssemblies.xslt" />'})]}),"\n",(0,i.jsxs)(n.li,{children:["Create an XSLT file ",(0,i.jsx)(n.strong,{children:"transcoAssemblies.xslt"})," using the XML in the XSLT section and upload it to the ",(0,i.jsx)(n.strong,{children:"transcoconfigsstore"})," container."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The following files need to be present in storage before triggering the request:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"transcoconfigsstore/transcoAssemblies.xslt"}),"\n",(0,i.jsx)(n.li,{children:"transcoconfigsstore/transcoAssemblies.xml"}),"\n",(0,i.jsx)(n.li,{children:"transcoconfigsstore/assemblies/TVH.Sample.dll"}),"\n",(0,i.jsx)(n.li,{children:"transcoconfigsstore/extensions/extensions.xml"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"http-request-test",children:"HTTP Request Test"}),"\n",(0,i.jsxs)(n.p,{children:["Target the transco Web App on your resource group, example: ",(0,i.jsx)(n.code,{children:"https://invictus-dev-we-sft-transcoapp.azurewebsites.net/api/v1/transco"})]}),"\n",(0,i.jsx)(n.p,{children:"Request:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n      "Content": "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPFNhbXBsZUlucHV0IHhtbG5zPSJodHRwOi8vdHZoLmRlbW9zIj4gCiAgIDxGaWVsZDE+VGVzdDE8L0ZpZWxkMT4gCiAgIDxGaWVsZDI+VGVzdDI8L0ZpZWxkMj4KPC9TYW1wbGVJbnB1dD4=",\n       "Context": {\n        "x-conversationId": "29500405-d7cf-4877-a72b-a3288cff9dc0",\n        "x-correlationId": "fc13d345-ebd7-44f2-89a9-4371258c0a08",\n        "x-batchId": "975f7ea4-6247-431b-afb6-6d27fb47516f",\n        "x-applicationName": "InvoiceApp",\n        "filter": "1"\n    },\n  "TranscoConfig": "transcoAssemblies.xml"\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Expected Response:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n    "Content": "77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48U2FtcGxlT3V0cHV0IHhtbG5zPSJodHRwOi8vdHZoLmRlbW9zIiB4bWxuczptc3hzbD0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp4c2x0IiB4bWxuczpuczA9Imh0dHA6Ly90dmguZGVtb3MiIHhtbG5zOmV4dGVuc2lvbj0iaHR0cDovL3R2aC5kZW1vcy5zaGFyZWRGdW5jdGlvbnMiPjxGaWVsZDE+VGVzdDE8L0ZpZWxkMT48RmllbGQyPmUxMWY4NTIzLTcyMDUtNGUxYS04M2YwLTI5MGZjM2U3YjAzZjwvRmllbGQyPjwvU2FtcGxlT3V0cHV0Pg==",\n    "Context": {\n        "x-conversationId": "29500405-d7cf-4877-a72b-a3288cff9dc0",\n        "x-correlationId": "fc13d345-ebd7-44f2-89a9-4371258c0a08",\n        "x-batchId": "975f7ea4-6247-431b-afb6-6d27fb47516f",\n        "x-applicationName": "InvoiceApp",\n        "filter": "1"\n    },\n    "ConversationId": null,\n    "CorrelationId": null,\n    "BatchId": null\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"decoded-content",children:"Decoded Content"}),"\n",(0,i.jsx)(n.p,{children:"Before:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="utf-8"?>\n<SampleInput xmlns="http://tvh.demos"> \n   <Field1>Test1</Field1> \n   <Field2>Test2</Field2>\n</SampleInput>\n'})}),"\n",(0,i.jsx)(n.p,{children:"After:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="utf-8"?>\n<SampleOutput xmlns="http://tvh.demos" xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:ns0="http://tvh.demos" xmlns:extension="http://tvh.demos.sharedFunctions">\n    <Field1>Test1</Field1>\n    <Field2>e11f8523-7205-4e1a-83f0-290fc3e7b03f</Field2>\n</SampleOutput>\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);