<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v6.0.0 docs-doc-page docs-doc-id-dashboard/installation/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Installing Invictus Dashboard | Invictus - Integration</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://invictus-integration.github.io/img/invictus.jpg"><meta data-rh="true" name="twitter:image" content="https://invictus-integration.github.io/img/invictus.jpg"><meta data-rh="true" property="og:url" content="https://invictus-integration.github.io/dashboard/installation/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v6.0.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v6.0.0"><meta data-rh="true" name="docsearch:version" content="v6.0.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v6.0.0"><meta data-rh="true" property="og:title" content="Installing Invictus Dashboard | Invictus - Integration"><meta data-rh="true" name="description" content="To access the resources stored on Azure Storage and Azure Container Registry you have to request an SAS-token and ACR Password from coditproducts@codit.eu."><meta data-rh="true" property="og:description" content="To access the resources stored on Azure Storage and Azure Container Registry you have to request an SAS-token and ACR Password from coditproducts@codit.eu."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://invictus-integration.github.io/dashboard/installation/"><link data-rh="true" rel="alternate" href="https://invictus-integration.github.io/dashboard/installation/" hreflang="en"><link data-rh="true" rel="alternate" href="https://invictus-integration.github.io/dashboard/installation/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Dashboard","item":"https://invictus-integration.github.io/dashboard/"},{"@type":"ListItem","position":2,"name":"Installation","item":"https://invictus-integration.github.io/dashboard/installation/"}]}</script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bitter:wght@700&family=Inter:wght@400;500&display=swap"><link rel="stylesheet" href="/assets/css/styles.5e490497.css">
<script src="/assets/js/runtime~main.8e33b748.js" defer="defer"></script>
<script src="/assets/js/main.e94e7bfd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.light.png" alt="Invictus" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.dark.png" alt="Invictus" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Invictus</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/dashboard/installation/">v6</a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/invictus-integration/docs-ifa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/architecture-diagram">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/dashboard/">Dashboard</a><button aria-label="Collapse sidebar category &#x27;Dashboard&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/dashboard/installation/">Installation</a><button aria-label="Collapse sidebar category &#x27;Installation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/installation/give_ad_access">Give access to your Active Directory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/installation/give_la_access">Give access to your Logic Apps</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/dashboard/flows/">Flows</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/flows/add">Add new flows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/flows/search">Search for flow traces</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/dashboard/flows/import-flow-traces/">Import flow traces</a><button aria-label="Expand sidebar category &#x27;Import flow traces&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/dashboard/security/users">Security</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/dashboard/settings">Settings</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/framework/">Framework</a><button aria-label="Expand sidebar category &#x27;Framework&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Support</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/support/v6-migration">Migrating to v6</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/dashboard/"><span>Dashboard</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Installation</span></li></ul></nav><div class="theme-doc-markdown markdown"><header><h1>Installing Invictus Dashboard</h1></header>
<div style="max-width:900px;margin:0"><div style="display:flex;align-items:center;justify-content:center;margin-bottom:2rem;flex-wrap:wrap"><div style="display:flex;align-items:center"><div style="width:36px;height:36px;border-radius:50%;background-color:rgb(33, 92, 102);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer" title="Prerequisites">1</div><div style="margin-left:0.5rem;margin-right:0.5rem;text-align:left;font-size:0.9rem;font-weight:bold;color:rgb(33, 92, 102);cursor:pointer">Prerequisites</div><div style="width:40px;height:2px;background-color:#ccc;margin:0 0.5rem"></div></div><div style="display:flex;align-items:center"><div style="width:36px;height:36px;border-radius:50%;background-color:#e0e0e0;color:#000;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer" title="Build pipeline">2</div><div style="margin-left:0.5rem;margin-right:0.5rem;text-align:left;font-size:0.9rem;font-weight:normal;color:#666;cursor:pointer">Build pipeline</div><div style="width:40px;height:2px;background-color:#ccc;margin:0 0.5rem"></div></div><div style="display:flex;align-items:center"><div style="width:36px;height:36px;border-radius:50%;background-color:#e0e0e0;color:#000;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer" title="Release pipeline">3</div><div style="margin-left:0.5rem;margin-right:0.5rem;text-align:left;font-size:0.9rem;font-weight:normal;color:#666;cursor:pointer">Release pipeline</div><div style="width:40px;height:2px;background-color:#ccc;margin:0 0.5rem"></div></div><div style="display:flex;align-items:center"><div style="width:36px;height:36px;border-radius:50%;background-color:#e0e0e0;color:#000;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer" title="First-time login">4</div><div style="margin-left:0.5rem;margin-right:0.5rem;text-align:left;font-size:0.9rem;font-weight:normal;color:#666;cursor:pointer">First-time login</div></div></div><div><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>obtain access <span style="position:relative;display:inline-block;margin-left:8px;text-transform:none;font-weight:bold"><span style="background-color:#e0f7f7;color:#0b6369;padding:2px 6px;border-radius:4px;font-size:0.75rem;font-weight:600;font-family:Bitter;cursor:default;user-select:none">Shared</span></span></div><div class="admonitionContent_BuS1"><p>To access the resources stored on Azure Storage and Azure Container Registry you have to request an SAS-token and ACR Password from <a href="mailto:coditproducts@codit.eu" target="_blank" rel="noopener noreferrer">coditproducts@codit.eu</a>.</p></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong>Include VNET support <span style="position:relative;display:inline-block;margin-left:8px;text-transform:none;font-weight:bold"><span style="background-color:#e0f7f7;color:#0b6369;padding:2px 6px;border-radius:4px;font-size:0.75rem;font-weight:600;font-family:Bitter;cursor:default;user-select:none">Shared</span></span></strong></summary><div><div class="collapsibleContent_i85q"><p>Invictus includes functionality which allows all its resources to run within an Azure Virtual Network (VNET).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="required-deployment">Required deployment<a href="#required-deployment" class="hash-link" aria-label="Direct link to Required deployment" title="Direct link to Required deployment">​</a></h3><ul>
<li>
<p>An Azure Virtual Network</p>
<ul>
<li>Including two subnets, one each for:<!-- -->
<ul>
<li>Private Endpoints</li>
<li>Container App Environment</li>
</ul>
</li>
<li>The subnets must have the following services enabled<!-- -->
<ul>
<li><code>Microsoft.AzureCosmosDB</code></li>
<li><code>Microsoft.EventHub</code></li>
<li><code>Microsoft.KeyVault</code></li>
<li><code>Microsoft.ServiceBus</code></li>
<li><code>Microsoft.Storage</code></li>
</ul>
</li>
<li>The Container App <a href="https://learn.microsoft.com/en-us/azure/virtual-network/manage-subnet-delegation" target="_blank" rel="noopener noreferrer">subnet must also have the delegation <code>Microsoft.App/environments</code></a></li>
</ul>
</li>
<li>
<p>Private DNS Zones (<a href="/assets/files/invictusVnetDNSZones-5ee79326b5f40a06bc9546b98300fe56.bicep" target="_blank">Bicep template</a>)</p>
<ul>
<li><code>privatelink.azurecr.io</code></li>
<li><code>privatelink.blob.core.windows.net</code></li>
<li><code>privatelink.file.core.windows.net</code></li>
<li><code>privatelink.mongo.cosmos.azure.com</code></li>
<li><code>privatelink.queue.core.windows.net</code></li>
<li><code>privatelink.servicebus.windows.net</code></li>
<li><code>privatelink.table.core.windows.net</code></li>
<li><code>privatelink.table.cosmos.azure.com</code></li>
<li><code>privatelink.vaultcore.azure.net</code></li>
<li><code>privatelink.{regionName}.azurecontainerapps.io</code></li>
</ul>
</li>
<li>
<p>To be able to deploy the app code from an Azure DevOps pipeline you will need a self hosted agent running on the same VNET with the following software installed:</p>
<ul>
<li>Powershell</li>
<li>Azure Powershell</li>
<li>Bicep CLI</li>
</ul>
</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="required-role-assignment">Required role assignment<a href="#required-role-assignment" class="hash-link" aria-label="Direct link to Required role assignment" title="Direct link to Required role assignment">​</a></h3><p>If the Invictus resources and the VNET are on different resource groups, then the Invictus resource group will need to be assigned the role of <code>Network Contributor</code> onto the VNET resource group.</p></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="migrate-from-older-installations">Migrate from older installations<a href="#migrate-from-older-installations" class="hash-link" aria-label="Direct link to Migrate from older installations" title="Direct link to Migrate from older installations">​</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong>Migrate to Dashboard v2+</strong></summary><div><div class="collapsibleContent_i85q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-pipeline">Build pipeline<a href="#build-pipeline" class="hash-link" aria-label="Direct link to Build pipeline" title="Direct link to Build pipeline">​</a></h3><p>The Azure Blob Storage container for Dashboard V2 is now <code>dashboard-v2</code>, this can be updated in the <code>-StorageContainerName</code> parameter you use in the build pipeline.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-pipeline">Release pipeline<a href="#release-pipeline" class="hash-link" aria-label="Direct link to Release pipeline" title="Direct link to Release pipeline">​</a></h3><p>Make sure that the PowerShell script in the release pipeline which runs Deploy.ps1 has the following parameters:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#19203d;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#19203d;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#19203d"><span class="token key atrule">azurePowerShellVersion</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> LatestVersion</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token key atrule">pwsh</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(35, 99%, 36%)">false</span><br></span></code></pre></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="object-id-update">Object ID update<a href="#object-id-update" class="hash-link" aria-label="Direct link to Object ID update" title="Direct link to Object ID update">​</a></h3><p>When upgrading to Invictus V2, the <code>devOpsObjectId</code> parameter which is passed to the release pipeline should be updated. This must be changed to the <strong>Enterprise Application</strong> Object ID of the service principal thats connected to the DevOps service connection (not of the App Registration). This change is required for both Dashboard and Framework pipelines.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="remove-existing-role-assignments">Remove existing role assignments<a href="#remove-existing-role-assignments" class="hash-link" aria-label="Direct link to Remove existing role assignments" title="Direct link to Remove existing role assignments">​</a></h3><p>Invictus V2 includes functionality to automatically deploy role assignments which were previously set manually. However, if these role assignments are already present, they will cause a conflict. In your Invictus resource group, remove any roles which are assigned to the Azure Functions. Typically, this is just 1 role assignment:</p><ul>
<li><em>Monitoring Contributor</em> rights for the FlowHandler component for the Invictus resource group.</li>
</ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="azure-ad-setup">Azure AD setup<a href="#azure-ad-setup" class="hash-link" aria-label="Direct link to Azure AD setup" title="Direct link to Azure AD setup">​</a></h3><p>If your Invictus installation integrates with Azure AD, please follow the <a href="/dashboard/installation/give_ad_access">Azure AD setup guide</a> to update your app registration, or set up a new one with the appropriate settings required for Invictus V2.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sql-data-migration">SQL data migration<a href="#sql-data-migration" class="hash-link" aria-label="Direct link to SQL data migration" title="Direct link to SQL data migration">​</a></h3><p>Invictus V2 includes functionality to migrate the SQL data from your previous installation into the Cosmos DB of the new version. Data relating to users, groups and the folder and flow structure will be migrated. Flow traces will <strong>not</strong> be migrated.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-migration-release-pipeline-changes">Data migration release pipeline changes<a href="#data-migration-release-pipeline-changes" class="hash-link" aria-label="Direct link to Data migration release pipeline changes" title="Direct link to Data migration release pipeline changes">​</a></h4><p>The data migration process forms part of the release pipeline. Please refer to <strong>Dashboard release pipeline</strong> installation step for more information. The deploy script parameter <code>PerformSqlDataMigration</code> must be set to <code>1</code>. The deploy script also accepts a few optional parameters to be able to connect to your SQL database:</p><ul>
<li><code>-sqlToMigrateServerName</code> : Server name hosting the SQL DB you wish to migrate. Defaults to <code>invictus-{ResourcePrefix}-sqlsvr</code></li>
<li><code>-sqlToMigrateDBName</code> : Name of the SQL DB you wish to migrate. Defaults to <code>coditcip</code></li>
<li><code>-sqlToMigrateUserName</code> : The login username used to connect to the SQL Server. Defaults to <code>InvictusFrameworkAdmin</code></li>
</ul><p>In addition to these values, the SQL server password <u>must</u> be stored as a secret in your Invictus Azure Key Vault with the name <code>invictussqlserverpassword</code>.</p><p>The data migration will now run as part of your release pipeline. The resultant data in Azure Cosmos DB will be validated against the original SQL data, with the validation results printed in the release logs. However it is still important to manually verify the migrated data. When complete, you will be able to login to the new Invictus V2 Dashboard with the same credentials as before.</p><p>Once you are satisfied with the migrated data, it is advised to change the <code>PerformSqlDataMigration</code> script parameter to <code>0</code> so that the migration process is entirely skipped in subsequent releases.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dashboard-url">Dashboard URL<a href="#dashboard-url" class="hash-link" aria-label="Direct link to Dashboard URL" title="Direct link to Dashboard URL">​</a></h3><p>The Invictus V2 release pipeline will create a new App Service Dashboard resource with a -v2 suffix e.g invictus-dev-invictusdashboard-v2. This means that the URL of this resource will be used to access the new Dashboard. If instead you wish to maintain your current URLs for the Dashboard, the old Dashboard App Service resource must be deleted from your resource group. Then, pass <code>invictusDashboardWebAppName</code> as a parameter to the release script, passing the name of the app service as a value.</p><div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>By doing this you will lose access to the old Dashboard and the ability to view and query its historic data.**</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-role-assignments">Add role assignments<a href="#add-role-assignments" class="hash-link" aria-label="Direct link to Add role assignments" title="Direct link to Add role assignments">​</a></h3><p>In addition to the Flow Handler component, in V2 also the Dashboard Gateway <a href="/dashboard/installation/give_la_access">must have Logic App Contribute access on the resource group or subscription which contains the Logic Apps</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-migrating-issues">Common migrating issues<a href="#common-migrating-issues" class="hash-link" aria-label="Direct link to Common migrating issues" title="Direct link to Common migrating issues">​</a></h3><div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>You cannot change the OS hosting your app at this time. Please recreate your app with the desired OS</div><div class="admonitionContent_BuS1"><p>If you are passing the <code>servicePlanName</code> or <code>autoscaleForPlanName</code> (or both) parameters to the Dashboard release pipeline, these must be updated by adding <code>-linux</code> to the end of their values (feel free to maintain your own naming conventions). <em>This change is required for the Dashboard pipeline only</em>.</p></div></div><div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>The role assignment already exists</div><div class="admonitionContent_BuS1"><p>If you have role assignments conflicts during deployment, you might have multiple role assignments defined at the Invictus resource group. This case, remove all role assignments defined at the Invictus resource group level.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="invictus-configure-dashboard-script-update">Invictus configure dashboard script update<a href="#invictus-configure-dashboard-script-update" class="hash-link" aria-label="Direct link to Invictus configure dashboard script update" title="Direct link to Invictus configure dashboard script update">​</a></h3><p>If you are using the PowerShell script <code>Invictus-ConfigureDashboard.ps1</code> to deploy flows, etc, you must replace this script with the <a href="https://github.com/Codit/integration-practice/blob/main/src/invictus/scripts/Invictus-ConfigureDashboard-v2.ps1" target="_blank" rel="noopener noreferrer">V2 version</a></p></div></div></details></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/invictus-integration/docs-ifa/edit/master/docs/versioned_docs/version-v6.0.0/dashboard/installation/index.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/dashboard/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Dashboard</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/dashboard/installation/give_ad_access"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Give access to your Active Directory</div></a></nav></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/invictus-integration" target="_blank" rel="noopener noreferrer" class="footer__link-item">Invictus Integration Github<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025, Invictus - Integration maintained by Codit</div></div></div></footer></div>
</body>
</html>