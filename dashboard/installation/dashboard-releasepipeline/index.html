<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v6.0.0 docs-doc-page docs-doc-id-dashboard/installation/dashboard-releasepipeline" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Dashboard Release Pipeline | Invictus - Integration</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://invictus-integration.github.io/docs-ifa/img/invictus.jpg"><meta data-rh="true" name="twitter:image" content="https://invictus-integration.github.io/docs-ifa/img/invictus.jpg"><meta data-rh="true" property="og:url" content="https://invictus-integration.github.io/docs-ifa/dashboard/installation/dashboard-releasepipeline"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v6.0.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v6.0.0"><meta data-rh="true" name="docsearch:version" content="v6.0.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v6.0.0"><meta data-rh="true" property="og:title" content="Dashboard Release Pipeline | Invictus - Integration"><meta data-rh="true" name="description" content="The release pipeline will use the artifacts created from the build pipeline and publish this to the stage(s) you define. Each stage will deploy the resources to the Azure subscription and resource group you specify in the deployment tasks."><meta data-rh="true" property="og:description" content="The release pipeline will use the artifacts created from the build pipeline and publish this to the stage(s) you define. Each stage will deploy the resources to the Azure subscription and resource group you specify in the deployment tasks."><link data-rh="true" rel="icon" href="/docs-ifa/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://invictus-integration.github.io/docs-ifa/dashboard/installation/dashboard-releasepipeline"><link data-rh="true" rel="alternate" href="https://invictus-integration.github.io/docs-ifa/dashboard/installation/dashboard-releasepipeline" hreflang="en"><link data-rh="true" rel="alternate" href="https://invictus-integration.github.io/docs-ifa/dashboard/installation/dashboard-releasepipeline" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Dashboard","item":"https://invictus-integration.github.io/docs-ifa/dashboard/"},{"@type":"ListItem","position":2,"name":"Installation","item":"https://invictus-integration.github.io/docs-ifa/dashboard/installation/"},{"@type":"ListItem","position":3,"name":"Dashboard Release Pipeline","item":"https://invictus-integration.github.io/docs-ifa/dashboard/installation/dashboard-releasepipeline"}]}</script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bitter:wght@700&family=Inter:wght@400;500&display=swap"><link rel="stylesheet" href="/docs-ifa/assets/css/styles.18761997.css">
<script src="/docs-ifa/assets/js/runtime~main.47b7425a.js" defer="defer"></script>
<script src="/docs-ifa/assets/js/main.400b0cb9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-ifa/"><div class="navbar__logo"><img src="/docs-ifa/img/logo.light.png" alt="Invictus" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-ifa/img/logo.dark.png" alt="Invictus" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Invictus</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs-ifa/dashboard/installation/dashboard-releasepipeline">v6.0.0</a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/invictus-integration/docs-ifa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-ifa/">Welcome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-ifa/architecture-diagram">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs-ifa/dashboard/">Dashboard</a><button aria-label="Collapse sidebar category &#x27;Dashboard&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs-ifa/dashboard/installation/">Installation</a><button aria-label="Collapse sidebar category &#x27;Installation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/installation/give_ad_access">Give access to your Active Directory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/installation/sync_ad_groups">Sync your Active Directory groups</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/installation/first-time-login">First-time login</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/installation/dashboard-buildpipeline">Add Invictus Dashboard to release package</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/installation/dashboard-migration">Invictus Dashboard V2 Migration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-ifa/dashboard/installation/dashboard-releasepipeline">Dashboard Release Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/installation/dashboard-vnet">Invictus Dashboard VNET Support</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/flows/">Flows</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/flows/add">Add new flows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/flows/search">Search for flows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/flows/permissions">Flow permissions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs-ifa/dashboard/flows/import-flow-traces/">Import flow traces</a><button aria-label="Expand sidebar category &#x27;Import flow traces&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs-ifa/dashboard/security/users">Security</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/accesscontrolrights">Access Control Rights</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/settings">Settings</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-ifa/framework/">Framework</a><button aria-label="Expand sidebar category &#x27;Framework&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Support</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/support/v6-migration">Migrating to v6</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-ifa/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs-ifa/dashboard/"><span>Dashboard</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs-ifa/dashboard/installation/"><span>Installation</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Dashboard Release Pipeline</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Dashboard Release Pipeline</h1></header>
<p>The release pipeline will use the artifacts created from the build pipeline and publish this to the stage(s) you define. Each stage will deploy the resources to the Azure subscription and resource group you specify in the deployment tasks.</p>
<p>The release uses variable groups and edits/adds variables to the groups, we will begin by creating a new variable group.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="variable-group">Variable Group<a href="#variable-group" class="hash-link" aria-label="Direct link to Variable Group" title="Direct link to Variable Group">​</a></h2>
<p>Create a variable group named <code>{prefix}.Invictus.{stage}</code> for all the stages (environments) and add at least one variable (eg: Invictus.Secrets.ApiKey1.Name = apikey1).</p>
<p>Make sure the Project Collection Build Service has Administrator access to these variable groups (Pipelines &gt; Library &gt; Security)</p>
<p><img decoding="async" loading="lazy" alt="Library Security" src="/docs-ifa/assets/images/ifa-library-security-abecb87b52b4c57428a377be276c1aa7.png" width="790" height="390" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="yaml-release-pipeline">YAML Release Pipeline<a href="#yaml-release-pipeline" class="hash-link" aria-label="Direct link to YAML Release Pipeline" title="Direct link to YAML Release Pipeline">​</a></h2>
<p>This contains an example YAML pipeline to release the Invictus for Azure Dashboard, change the <a href="/docs-ifa/assets/files/dashboard.release-3916adacc40ba442eacd7a3569e89741.yaml" target="_blank">dashboard.release.yaml</a> file according to your needs, for example change the needed environments and change the name of the build pipeline trigger:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#19203d;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#19203d;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#19203d"><span class="token key atrule">resources</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token key atrule">pipelines</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic"># Name of the pipeline resource inside this workflow. Used to reference the pipeline resources later on (e.g. download artifacts).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain"> </span><span class="token key atrule">pipeline</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> _build</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic"># Name of the pipeline in Azure Pipelines</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">    </span><span class="token key atrule">source</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;customer.azure.invictus.dashboard.build&#x27;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">    </span><span class="token key atrule">trigger</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(35, 99%, 36%)">true</span><br></span></code></pre></div></div>
<p>Also make sure to change the bicep template parameters according to your needs.</p>
<p>If you need to overwrite more bicep Template parameters make sure to add this to the <code>deployScriptParameters</code>. A complete list of Bicep Template parameters can be found <a href="#bicep-template-parameters">here</a>.</p>
<p>Afterwards add the <a href="/docs-ifa/assets/files/dashboard.release-3916adacc40ba442eacd7a3569e89741.yaml" target="_blank">dashboard.release.yaml</a> in your DevOps environment as a pipeline.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-script-parameters">Deploy Script Parameters<a href="#deploy-script-parameters" class="hash-link" aria-label="Direct link to Deploy Script Parameters" title="Direct link to Deploy Script Parameters">​</a></h2>
<p>The following script parameters are used in the deploy script:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mandatory-parameters">Mandatory Parameters<a href="#mandatory-parameters" class="hash-link" aria-label="Direct link to Mandatory Parameters" title="Direct link to Mandatory Parameters">​</a></h3>
<table><thead><tr><th>Argument name</th><th>Description</th></tr></thead><tbody><tr><td><code>artifactsPath</code></td><td>Path on the DevOps agent where the downloaded Invictus artifacts are stored <br> (<a href="https://learn.microsoft.com/en-us/azure/devops/pipelines/artifacts/build-artifacts?view=azure-devops&amp;tabs=yaml" target="_blank" rel="noopener noreferrer">publish and download build artifacts</a>)</td></tr><tr><td><code>devOpsObjectId</code></td><td>Object ID of the service principal that&#x27;s connected to the DevOps service connection, which will get the necessary role definitions to interact with Invictus&#x27; deployed resources (i.e. Key vault, Container registry) (<a href="https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/reference/azure-cli-v2?view=azure-pipelines" target="_blank" rel="noopener noreferrer">Azure CLI task</a>)</td></tr><tr><td><code>acrUsername</code></td><td>ACR credentials provided by Codit to pull Invictus images <br> See <a href="/docs-ifa/dashboard/installation/dashboard-buildpipeline">build pipeline</a></td></tr><tr><td><code>acrPassword</code></td><td>ACR credentials provided by Codit to pull Invictus images <br> See <a href="/docs-ifa/dashboard/installation/dashboard-buildpipeline">build pipeline</a></td></tr><tr><td><code>resourcePrefix</code></td><td>Prefix used for deployed Azure resources (i.e. <code>invictus-{prefix}-vlt</code>)</td></tr><tr><td><code>resourceGroupName</code></td><td>Name of Azure resource group where Invictus should be deployed</td></tr><tr><td><code>variableGroupName</code></td><td>DevOps variable group to write the Bicep outputs to (i.e. <code>Invictus_CosmosDb_DbName</code>)</td></tr><tr><td><code>azureActiveDirectoryClientId</code></td><td>See <a href="/docs-ifa/dashboard/installation/give_ad_access">Azure AD Setup</a> if AD enabled</td></tr><tr><td><code>azureActiveDirectoryTenantId</code></td><td>See <a href="/docs-ifa/dashboard/installation/give_ad_access">Azure AD Setup</a> if AD enabled</td></tr><tr><td><code>azureActiveDirectoryClientSecret</code></td><td>See <a href="/docs-ifa/dashboard/installation/give_ad_access">Azure AD Setup</a> if AD enabled</td></tr><tr><td><code>azureActiveDirectoryAudience</code></td><td>See <a href="/docs-ifa/dashboard/installation/give_ad_access">Azure AD Setup</a> if AD enabled</td></tr><tr><td><code>performSqlDataMigration</code></td><td>If value is 1 the data migration process will run, migrating SQL data to Cosmos DB. If the value is 0, the process will be skipped. See the <a href="/docs-ifa/dashboard/installation/dashboard-migration">migration guide</a> for more details. Once data migration has been performed and verified, it is recommended to then set this value to 0 so that the migration process is skipped for all subsequent releases.</td></tr><tr><td><code>flowDataTTLInDays</code></td><td>Amount of days flow data can live in the database <br> See <a href="/docs-ifa/dashboard/flows/import-flow-traces/">import flow traces</a>.</td></tr><tr><td><code>isProvisionedCosmos</code></td><td>If the value is 1, a Cosmos DB with provisioned throughput will be deployed. If the value is 0, a serverless Cosmos DB will be deployed instead. See the <a href="#provisioned-throughput-vs-serverless-cosmos-db">relevant section</a> below for more details.</td></tr><tr><td><code>identityProviderApplicationId</code></td><td>See <a href="https://learn.microsoft.com/en-us/azure/app-service/configure-authentication-provider-aad" target="_blank" rel="noopener noreferrer">Container Authentication</a>.</td></tr><tr><td><code>identityProviderClientSecret</code></td><td>See <a href="https://learn.microsoft.com/en-us/azure/app-service/configure-authentication-provider-aad" target="_blank" rel="noopener noreferrer">Container Authentication</a>.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="optional-parameters">Optional Parameters<a href="#optional-parameters" class="hash-link" aria-label="Direct link to Optional Parameters" title="Direct link to Optional Parameters">​</a></h3>
<table><thead><tr><th>Argument name</th><th>Default value</th><th>Description</th></tr></thead><tbody><tr><td><code>resourceGroupLocation</code></td><td>&#x27;West Europe&#x27;</td><td>Azure location where resources should be deployed</td></tr><tr><td><code>isAdDisabled</code></td><td><code>False</code></td><td>Boolean flag to indicate whether the Dashboard should use AD for authentication</td></tr><tr><td><code>additionalTemplateParameters</code></td><td>[]</td><td>Additional named parameters for the Bicep template you wish to override. More on this below.</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>override <a href="#bicep-template-parameters">bicep parameters</a></div><div class="admonitionContent_BuS1"><p>The <code>AdditionalTemplateParameters</code> can be used to override the default values used by the Bicep template. You simply name the argument as the parameter. For example if you want to use a different <code>servicePlanSku</code> you would add <code>-eventHubSkuName &#x27;Standard&#x27;</code> to the parameters of the <code>./Deploy.ps1</code> script.</p></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Full YAML task example</summary><div><div class="collapsibleContent_i85q"><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#19203d;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#19203d;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#19203d"><span class="token punctuation" style="color:#19203d">-</span><span class="token plain"> </span><span class="token key atrule">task</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> AzureCLI@2</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token key atrule">displayName</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;Azure CLI&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token key atrule">env</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">    </span><span class="token key atrule">SYSTEM_ACCESSTOKEN</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> $(System.AccessToken)</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token key atrule">inputs</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">    </span><span class="token key atrule">azureSubscription</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;[YOUR_SERVICE_CONNECTION]&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">    </span><span class="token key atrule">addSpnToEnvironment</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(35, 99%, 36%)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">    </span><span class="token key atrule">scriptType</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;pscore&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">    </span><span class="token key atrule">scriptLocation</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;inlineScript&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">    </span><span class="token key atrule">inlineScript</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#19203d">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">      </span><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic"># Determine where the the provided Invictus &#x27;Deploy.ps1&#x27; script is located</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">      $artifactsPath = $</span><span class="token punctuation" style="color:#19203d">{</span><span class="token punctuation" style="color:#19203d">{</span><span class="token plain"> variables</span><span class="token punctuation" style="color:#19203d">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;Pipeline.Workspace&#x27;</span><span class="token punctuation" style="color:#19203d">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#19203d">}</span><span class="token punctuation" style="color:#19203d">}</span><span class="token plain"> + &#x27;/_build/dashboard&#x27; </span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">      $scriptPath = $artifactsPath + &#x27;/Deploy.ps1&#x27;</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">      </span><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic"># Use your service connection&#x27;s service principal Object ID</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">      $objectId = (az ad sp show </span><span class="token punctuation" style="color:#19203d">-</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">id $env</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain">servicePrincipalId </span><span class="token punctuation" style="color:#19203d">|</span><span class="token plain"> ConvertFrom</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">Json).id</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">      &amp; $scriptPath `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">artifactsPath $artifactsPath `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">acrPath &#x27;invictusreleases.azurecr.io&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">useBeta false `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">acrUsername &#x27;admin&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">acrPassword &#x27;&lt;pass</span><span class="token punctuation" style="color:#19203d">&gt;</span><span class="token plain">&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">resourcePrefix &#x27;dev&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">resourceGroupName &#x27;my</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">client</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">dev</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">rg&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">variableGroupName &#x27;My.Client.Dev&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">devOpsObjectId $objectId `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">performSqlDataMigration 0 `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">isProvisionedCosmos 0 `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">azureActiveDirectoryClientId &#x27;4b559bfb</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">871a</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">4013</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">bce9</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">829e3aeb6bdd&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">azureActiveDirectoryTenantId &#x27;97a944a1</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">04a0</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">45d2</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">b2f3</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">c424755c4167&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">azureActiveDirectoryClientSecret &#x27;&lt;pass</span><span class="token punctuation" style="color:#19203d">&gt;</span><span class="token plain">&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">azureActiveDirectoryAudience &#x27;https</span><span class="token punctuation" style="color:#19203d">:</span><span class="token plain">//contoso.com&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">identityProviderApplicationId &#x27;c84d34ea</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">f169</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">4787</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">a4af</span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">81750debda0b&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">identityProviderClientSecret &#x27;&lt;pass</span><span class="token punctuation" style="color:#19203d">&gt;</span><span class="token plain">&#x27; `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">isProvisionedCosmos 1 `</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">        </span><span class="token punctuation" style="color:#19203d">-</span><span class="token plain">flowDataTTLInDays 90</span><br></span></code></pre></div></div></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bicep-template-parameters">Bicep Template Parameters<a href="#bicep-template-parameters" class="hash-link" aria-label="Direct link to Bicep Template Parameters" title="Direct link to Bicep Template Parameters">​</a></h2>
<p>The below tables lists the parameters accepted by the Bicep template.</p>
<label class="toggle-container" style="cursor:pointer"><input type="checkbox" class="toggle-checkbox" style="margin-right:0.5rem"><span class="toggle-slider"></span><strong>Show VNET options</strong></label><h3 class="anchor anchorWithStickyNavbar_LWe7" id="top-level-parameters">Top-level parameters<a href="#top-level-parameters" class="hash-link" aria-label="Direct link to Top-level parameters" title="Direct link to Top-level parameters">​</a></h3><p>Resource-independent parameters that affect all resources in the deployed resource group.</p><table><thead><tr><th>Parameter</th><th style="text-align:center">Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>resourcePrefix</code></td><td style="text-align:center">Yes</td><td></td><td>Prefix used for deployed Azure resources (i.e. <code>invictus-{prefix}-vlt</code>)</td></tr><tr><td><code>devOpsObjectId</code></td><td style="text-align:center">Yes</td><td></td><td>Object ID of the service principal that&#x27;s connected to the DevOps service connection, which will get the necessary role definitions to interact with Invictus&#x27; deployed resources (i.e. Key vault, Container registry) (<a href="https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/reference/azure-cli-v2?view=azure-pipelines" target="_blank" rel="noopener noreferrer">Azure CLI task</a>)</td></tr></tbody></table><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Active Directory parameters</summary><div><div class="collapsibleContent_i85q"><p>Parameters related to the Azure Active Directory where the groups are synced from.</p><table><thead><tr><th>Parameter</th><th style="text-align:center">Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>azureActiveDirectoryClientId</code></td><td style="text-align:center">Yes</td><td></td><td>Client AAD ID required to enable AAD for dashboard</td></tr><tr><td><code>azureActiveDirectoryTenantId</code></td><td style="text-align:center">Yes</td><td></td><td>Tenant AAD ID required to enable AAD for dashboard</td></tr><tr><td><code>azureActiveDirectoryClientSecret</code></td><td style="text-align:center">Yes</td><td></td><td>Required for AD Login</td></tr><tr><td><code>AzureActiveDirectoryAudience</code></td><td style="text-align:center">Yes</td><td></td><td>Required for AD Login</td></tr><tr><td><code>isAdDisabled</code></td><td style="text-align:center">No</td><td><code>0</code></td><td>isAdDisabled true or false</td></tr></tbody></table></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>App service parameters</summary><div><div class="collapsibleContent_i85q"><p>Parameters related to the applications that are deployed, mostly Azure Functions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="function-names">Function names<a href="#function-names" class="hash-link" aria-label="Direct link to Function names" title="Direct link to Function names">​</a></h3><table><thead><tr><th>Parameter</th><th style="text-align:center">Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>invictusDashboardWebAppName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-invictusdashboard-v2</code></td><td>Name for the dashboard web application</td></tr><tr><td><code>invictusDashboardGatewayFunctionName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-dashboardgateway</code></td><td>Name for Azure Function</td></tr><tr><td><code>invictusImportJobFunctionName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-invictusimportjob</code></td><td>Name for Azure Function</td></tr><tr><td><code>invictusCacheImportJobFunctionName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-cacheimportjob</code></td><td>Name for Azure Function</td></tr><tr><td><code>invictusStoreImportJobFunctionName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-storeimportjob</code></td><td>Name for Azure Function</td></tr><tr><td><code>invictusFlowHandlerFunctionName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-flowhandlerjob</code></td><td>Name for Azure Function</td></tr><tr><td><code>invictusGenericReceiverFunctionName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-genericreceiver</code></td><td>Name for Azure Function</td></tr><tr><td><code>invictusHttpReceiverFunctionName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-httpreceiver</code></td><td>Name for Azure Function</td></tr><tr><td><code>invictusDatabaseManagerFunctionName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-database-storeimportjob</code></td><td>Name for Azure Function</td></tr><tr><td><code>invictusDataFactoryReceiverFunctionName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-datafactoryreceiver</code></td><td>Name for Azure Function</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="function-deployment">Function deployment<a href="#function-deployment" class="hash-link" aria-label="Direct link to Function deployment" title="Direct link to Function deployment">​</a></h3><table><thead><tr><th>Parameter</th><th style="text-align:center">Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>servicePlanName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-appplan-linux</code></td><td>Name for the service plan which will host the APIs</td></tr><tr><td><code>servicePlanSkuName</code></td><td style="text-align:center">No</td><td>S1</td><td>Size for the App Plan, the value of &quot;I1&quot; needs to be passed to install an isolated plan.</td></tr><tr><td><code>servicePlanSkuCapacity</code></td><td style="text-align:center">No</td><td><code>1</code></td><td>The SKU capacity setting for the App Plan</td></tr></tbody></table></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Storage parameters</summary><div><div class="collapsibleContent_i85q"><p>Parameters related to the data that is stored throughout Invictus.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cosmos">Cosmos<a href="#cosmos" class="hash-link" aria-label="Direct link to Cosmos" title="Direct link to Cosmos">​</a></h3><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>cosmosAccountName</code></td><td>No</td><td><code>invictus-{resourcePrefix}-cosmos-serverless/provisoned</code></td><td>Name for Cosmos account</td></tr><tr><td><code>cosmosDatabaseName</code></td><td>No</td><td><code>InvictusDashboard</code></td><td>Name for Cosmos database</td></tr><tr><td><code>isProvisionedCosmos</code></td><td>Yes</td><td><code>0</code> (:<code>true</code>)</td><td><code>isProvisionedCosmos</code> true or false</td></tr></tbody></table><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Provisioned Throughput vs Serverless Cosmos DB</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th><strong>Aspect</strong></th><th><strong>Serverless in Production</strong></th><th><strong>Provisioned Throughput in Production</strong></th></tr></thead><tbody><tr><td><strong>Cost-Efficiency</strong></td><td>Optimized for variable workloads; scales down during low activity to reduce cost</td><td>Costs are fixed based on allocated RU/s; autoscale introduces a min-max pricing range</td></tr><tr><td><strong>Traffic Handling</strong></td><td>Ideal for sporadic or bursty traffic patterns</td><td>Suitable for consistently high or predictable workloads</td></tr><tr><td><strong>Scalability</strong></td><td>Auto-scales based on workload; FlowData and WorkFlowEvents most affected</td><td>RU/s can be manually adjusted for high-volume needs</td></tr><tr><td><strong>Usage Suitability</strong></td><td>Best for unpredictable workloads with fluctuating volume</td><td>Best for stable, high-throughput scenarios</td></tr><tr><td><strong>Collections Behavior</strong></td><td>FlowData and WorkFlowEvents auto-scale with data insertion</td><td>FlowData and WorkFlowEvents have fixed RU/s with autoscale range</td></tr></tbody></table><p>Always evaluate your application&#x27;s needs and monitor performance to ensure the chosen capacity model meets expectations in the production environment.</p><p><strong>Default Settings for Provisioned Throughput</strong></p><table><thead><tr><th>Collection</th><th>RU/s</th><th>Autoscale</th></tr></thead><tbody><tr><td>Audits</td><td>500</td><td>No</td></tr><tr><td>DashboardSettings</td><td>500</td><td>No</td></tr><tr><td>Users</td><td>500</td><td>No</td></tr><tr><td>Groups</td><td>500</td><td>No</td></tr><tr><td>Statistics</td><td>500</td><td>No</td></tr><tr><td>FolderFlows</td><td>500</td><td>No</td></tr><tr><td>FlowData</td><td>2000</td><td>Yes</td></tr><tr><td>WorkflowEvent</td><td>2000</td><td>Yes</td></tr><tr><td>MessageContent</td><td>2000</td><td>Yes</td></tr></tbody></table></div></div></details><h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-account">Storage account<a href="#storage-account" class="hash-link" aria-label="Direct link to Storage account" title="Direct link to Storage account">​</a></h3><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>storageAccountName</code></td><td>No</td><td><code>invictus{resourcePrefix}store</code></td><td>Name for the Azure Storage resource. Dashes (-) will be removed from <code>{resourcePrefix}</code></td></tr><tr><td><code>storageAccountType</code></td><td>No</td><td><code>Standard_LRS</code></td><td>The Storage account <code>StorageAccountSkuType</code></td></tr><tr><td><code>messageStatusCacheDeleteAfterDays</code></td><td>No</td><td><code>30</code></td><td>The number of days without modification for the message status cache to be deleted</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cleaning-data">Cleaning data<a href="#cleaning-data" class="hash-link" aria-label="Direct link to Cleaning data" title="Direct link to Cleaning data">​</a></h3><table><thead><tr><th>Parameter</th><th style="text-align:center">Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>flowDataTTLInDays</code></td><td style="text-align:center">Yes</td><td></td><td>A positive integer value which represents the amount of days flow data can live in the database</td></tr><tr><td><code>statisticsCutOffDays</code></td><td style="text-align:center">No</td><td><code>-3</code></td><td>The number of days in the past that homepage statistics will recalculate</td></tr><tr><td><code>cleanupJobIntervalInMinutes</code></td><td style="text-align:center">No</td><td><code>1440</code></td><td>Interval in minutes for the cleanup job</td></tr><tr><td><code>workFlowCleanupJobIntervalInMinutes</code></td><td style="text-align:center">No</td><td><code>180</code></td><td>Interval in minutes for the workflowevent cleanup job</td></tr><tr><td><code>dataWorkFlowCleanupMaxRetentionDays</code></td><td style="text-align:center">No</td><td><code>90</code></td><td>Max number of days the WorkFlowEvent data is stored</td></tr></tbody></table></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Messaging parameters</summary><div><div class="collapsibleContent_i85q"><p>Parameters related to the messaging resources that import the flow information into storage.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="service-bus">Service Bus<a href="#service-bus" class="hash-link" aria-label="Direct link to Service Bus" title="Direct link to Service Bus">​</a></h3><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>serviceBusNamespaceName</code></td><td>No</td><td><code>invictus-{resourcePrefix}-sbs</code></td><td>Name for the Service Bus Namespace resource</td></tr><tr><td><code>serviceBusSkuName</code></td><td>No</td><td>Standard or Premium if VNET enabled</td><td>Name for the Service Bus SKU</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-hubs">Event Hubs<a href="#event-hubs" class="hash-link" aria-label="Direct link to Event Hubs" title="Direct link to Event Hubs">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="namespace">Namespace<a href="#namespace" class="hash-link" aria-label="Direct link to Namespace" title="Direct link to Namespace">​</a></h4><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>eventHubNamespaceName</code></td><td>No</td><td><code>invictus-{resourcePrefix}-evnm</code></td><td>Name for the Event Hub Namespace resource</td></tr><tr><td><code>eventHubSkuName</code></td><td>No</td><td>Basic</td><td>The SKU name of the EventHub Namespace</td></tr><tr><td><code>eventHubSkuTier</code></td><td>No</td><td>Basic</td><td>The Tier name for the EventHub Namespace</td></tr><tr><td><code>eventHubSkuCapacity</code></td><td>No</td><td><code>1</code></td><td>The SKU capacity for the EventHub Namespace</td></tr><tr><td><code>eventHubAutoInflate</code></td><td>No</td><td><code>false</code></td><td>The EventHub setting to enable auto-inflate</td></tr><tr><td><code>eventHubMaxThroughputUnits</code></td><td>No</td><td><code>0</code></td><td>Max throughput setting for EventHub</td></tr><tr><td><code>eventHubMessageRetentionInDays</code></td><td>No</td><td><code>1</code></td><td><p>The number of days EventHub will retain messages.<br>
Note: <code>eventHubSkuName</code> and <code>eventHubSkuTier</code> must be set to <code>Standard</code> to exceed 1 day of retention.</p></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="hubs">Hubs<a href="#hubs" class="hash-link" aria-label="Direct link to Hubs" title="Direct link to Hubs">​</a></h4><table><thead><tr><th>Parameter</th><th style="text-align:center">Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>eventHubName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-evhb</code></td><td>Name for the Event Hub created on the Namespace</td></tr><tr><td><code>eventHubNameV2</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-evhb-v2</code></td><td>Name for the Event Hub for standard LA&#x27;s created on the Namespace</td></tr><tr><td><code>workflowEventHubName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-workflow-evhb</code></td><td>EventHub name for the import job</td></tr><tr><td><code>dataMergeWorkflowEventHubName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-mergeddata-evhb</code></td><td>EventHub name for the data merge import job</td></tr><tr><td><code>sideTasksWorkflowEventHubName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-sidetasks-evhb</code></td><td>EventHub name for the side tasks</td></tr><tr><td><code>dataFactoryEventHubName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-df-evhb</code></td><td>EventHub name for the data factory import job</td></tr><tr><td><code>genericEventHubName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-genericreceiver-evhb</code></td><td>EventHub name for the import job</td></tr></tbody></table></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Secret parameters</summary><div><div class="collapsibleContent_i85q"><p>Parameters related to the security of the deployed applications.</p><table><thead><tr><th>Parameter</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>keyVaultName</code></td><td>No</td><td><code>invictus-{resourcePrefix}-vlt</code></td><td>Name for the Key Vault Service Namespace resource</td></tr><tr><td><code>keyVaultEnablePurgeProtection</code></td><td>No</td><td><code>null</code></td><td>If true, enables key vault purge protection. Once enabled, this property can never be disabled.</td></tr><tr><td><code>jwtSecretToken</code></td><td>No</td><td>Generated on first use</td><td>JWT Secret used for login</td></tr></tbody></table></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Observability parameters</summary><div><div class="collapsibleContent_i85q"><p>Parameters related to the observability of the deployed applications.</p><table><thead><tr><th>Parameter</th><th style="text-align:center">Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>appInsightsName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-appins</code></td><td>Name for the Application Insights resource</td></tr><tr><td><code>alertingAppInsightsName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-alertingappins</code></td><td>Name for the Application Insights resource used for alerting</td></tr><tr><td><code>importjobAppInsightsName</code></td><td style="text-align:center">No</td><td><code>invictus-{resourcePrefix}-importjobappins</code></td><td>Name for Application Insights used by importjob</td></tr><tr><td><code>appInsightsSamplingPercentage</code></td><td style="text-align:center">No</td><td><code>1</code></td><td>The sampling percentage for the Application Insights resource</td></tr><tr><td><code>importJobAppInsightsSamplingPercentage</code></td><td style="text-align:center">No</td><td><code>1</code></td><td>The sampling percentage for the import job Application Insights resource</td></tr></tbody></table></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><span id="scaling-parameters">Scaling parameters</span></summary><div><div class="collapsibleContent_i85q"><p>Azure Container Apps allow for flexible scaling customization. In Invictus we have provided default scaling values which can be customized according to your scenario.</p><p>Container Apps have the ability to scale down to zero replicas. This is a great cost-saving option especially for components which are not used at all. An Azure Container App scaled to zero will automatically scale out when triggered, however this may take up to a few minutes to complete. This could prove to be an issue in scenarios with limited timeout e.g. logic apps with 120 seconds timeout. In such cases there is no option but to set a minimum replica count of 1.</p><table><thead><tr><th>Parameter</th><th style="text-align:center">Required</th></tr></thead><tbody><tr><td><code>dashboardScaling</code></td><td style="text-align:center">No</td></tr><tr><td><code>dashboardGatewayScaling</code></td><td style="text-align:center">No</td></tr><tr><td><code>cacheImportJobScaling</code></td><td style="text-align:center">No</td></tr><tr><td><code>dbImportJobScaling</code></td><td style="text-align:center">No</td></tr><tr><td><code>datafactoryReceiverScaling</code></td><td style="text-align:center">No</td></tr><tr><td><code>flowhandlerScaling</code></td><td style="text-align:center">No</td></tr><tr><td><code>genericReceiverScaling</code></td><td style="text-align:center">No</td></tr><tr><td><code>httpReceiverScaling</code></td><td style="text-align:center">No</td></tr><tr><td><code>importJobScaling</code></td><td style="text-align:center">No</td></tr><tr><td><code>storeImportJobScaling</code></td><td style="text-align:center">No</td></tr></tbody></table><p>Each of the above parameters accepts an object:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#19203d;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#19203d;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#19203d"><span class="token punctuation" style="color:#19203d">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  scaleMinReplicas</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> int</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  scaleMaxReplicas</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> int</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  cpuResources</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  memoryResources</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token punctuation" style="color:#19203d">}</span><br></span></code></pre></div></div><table><thead><tr><th>Parameter value</th><th>Description</th></tr></thead><tbody><tr><td><code>scaleMinReplicas</code></td><td>The lowest number of replicas the Container App will scale in to.</td></tr><tr><td><code>scaleMaxReplicas</code></td><td>The highest number of replicas the Container App will scale out to.</td></tr><tr><td><code>cpuResources</code></td><td>The amount of cpu resources to dedicate for the container resource. <a href="https://learn.microsoft.com/en-us/azure/container-apps/containers#allocations" target="_blank" rel="noopener noreferrer">See here for allowed values</a>.</td></tr><tr><td><code>memoryResources</code></td><td>The amount of memory resources to dedicate for the container resource. <a href="https://learn.microsoft.com/en-us/azure/container-apps/containers#allocations" target="_blank" rel="noopener noreferrer">See here for allowed values</a>.</td></tr></tbody></table></div></div></details></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/invictus-integration/docs-ifa/edit/master/docs/versioned_docs/version-v6.0.0/dashboard/installation/dashboard-releasepipeline.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-ifa/dashboard/installation/dashboard-migration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Invictus Dashboard V2 Migration Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-ifa/dashboard/installation/dashboard-vnet"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Invictus Dashboard VNET Support</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#variable-group" class="table-of-contents__link toc-highlight">Variable Group</a></li><li><a href="#yaml-release-pipeline" class="table-of-contents__link toc-highlight">YAML Release Pipeline</a></li><li><a href="#deploy-script-parameters" class="table-of-contents__link toc-highlight">Deploy Script Parameters</a><ul><li><a href="#mandatory-parameters" class="table-of-contents__link toc-highlight">Mandatory Parameters</a></li><li><a href="#optional-parameters" class="table-of-contents__link toc-highlight">Optional Parameters</a></li></ul></li><li><a href="#bicep-template-parameters" class="table-of-contents__link toc-highlight">Bicep Template Parameters</a><ul><li><a href="#top-level-parameters" class="table-of-contents__link toc-highlight">Top-level parameters</a></li><li><a href="#function-names" class="table-of-contents__link toc-highlight">Function names</a></li><li><a href="#function-deployment" class="table-of-contents__link toc-highlight">Function deployment</a></li><li><a href="#cosmos" class="table-of-contents__link toc-highlight">Cosmos</a></li><li><a href="#storage-account" class="table-of-contents__link toc-highlight">Storage account</a></li><li><a href="#cleaning-data" class="table-of-contents__link toc-highlight">Cleaning data</a></li><li><a href="#service-bus" class="table-of-contents__link toc-highlight">Service Bus</a></li><li><a href="#event-hubs" class="table-of-contents__link toc-highlight">Event Hubs</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/invictus-integration" target="_blank" rel="noopener noreferrer" class="footer__link-item">Invictus Integration Github<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025, Invictus - Integration maintained by Codit</div></div></div></footer></div>
</body>
</html>