<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v6.0.0 docs-doc-page docs-doc-id-framework/deprecated/pubsub" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Publish / Subscribe | Invictus - Integration</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://invictus-integration.github.io/docs-ifa/img/invictus.jpg"><meta data-rh="true" name="twitter:image" content="https://invictus-integration.github.io/docs-ifa/img/invictus.jpg"><meta data-rh="true" property="og:url" content="https://invictus-integration.github.io/docs-ifa/framework/deprecated/pubsub"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v6.0.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v6.0.0"><meta data-rh="true" name="docsearch:version" content="v6.0.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v6.0.0"><meta data-rh="true" property="og:title" content="Publish / Subscribe | Invictus - Integration"><meta data-rh="true" name="description" content="## ⚠️ Attention"><meta data-rh="true" property="og:description" content="## ⚠️ Attention"><link data-rh="true" rel="icon" href="/docs-ifa/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://invictus-integration.github.io/docs-ifa/framework/deprecated/pubsub"><link data-rh="true" rel="alternate" href="https://invictus-integration.github.io/docs-ifa/framework/deprecated/pubsub" hreflang="en"><link data-rh="true" rel="alternate" href="https://invictus-integration.github.io/docs-ifa/framework/deprecated/pubsub" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Framework","item":"https://invictus-integration.github.io/docs-ifa/framework/"},{"@type":"ListItem","position":2,"name":"Deprecated components","item":"https://invictus-integration.github.io/docs-ifa/framework/deprecated/"},{"@type":"ListItem","position":3,"name":"Publish / Subscribe","item":"https://invictus-integration.github.io/docs-ifa/framework/deprecated/pubsub"}]}</script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bitter:wght@700&family=Inter:wght@400;500&display=swap"><link rel="stylesheet" href="/docs-ifa/assets/css/styles.42025493.css">
<script src="/docs-ifa/assets/js/runtime~main.9cc0382f.js" defer="defer"></script>
<script src="/docs-ifa/assets/js/main.ea6eb933.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-ifa/"><div class="navbar__logo"><img src="/docs-ifa/img/logo.light.png" alt="Invictus" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-ifa/img/logo.dark.png" alt="Invictus" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Invictus</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs-ifa/framework/deprecated/pubsub">v6</a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/invictus-integration/docs-ifa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-ifa/">Welcome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-ifa/architecture-diagram">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs-ifa/dashboard/">Dashboard</a><button aria-label="Expand sidebar category &#x27;Dashboard&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs-ifa/framework/">Framework</a><button aria-label="Collapse sidebar category &#x27;Framework&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/installation/">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0" href="/docs-ifa/framework/deprecated/">Deprecated components</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/matrix-basic">Matrix - Basic Promotion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/matrix-promote">Matrix - Promotion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/matrix">Matrix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-ifa/framework/deprecated/pubsub">Publish / Subscribe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/transco-assemblies">Transco - Custom Assemblies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/transco-extraction">Transco - Extraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/transco">Transco</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/exceptionHandler">Exception handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/pubsubV2">Publish and subscribe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/regextranslation">Regex Translation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/sequencecontroller">Index-controlled sequence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/timesequencer">Time-controlled sequence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/transcoV2-Example">Full Transco V2 Example</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/transcoV2">Transco V2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/xmljsonconverter">Convert between XML/JSON</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/xsd-validator">XSD validation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Support</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/support/v6-migration">Migrating to v6</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-ifa/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs-ifa/framework/"><span>Framework</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs-ifa/framework/deprecated/"><span>Deprecated components</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Publish / Subscribe</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Publish / Subscribe</h1></header>
<blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-attention">⚠️ Attention<a href="#️-attention" class="hash-link" aria-label="Direct link to ⚠️ Attention" title="Direct link to ⚠️ Attention">​</a></h2>
<p>This is the V1 version of the PubSub, which is deprecated and will thus no longer be extended.</p>
<p>Maximum supported .NET version is .NET Framework 4.7.1</p>
<p>For the supported version, please see <a href="/docs-ifa/framework/pubsubV2">PubSub V2</a></p>
<p>For the migration guide from v1 to v2 see <a href="/docs-ifa/framework/pubsubV2#Migrating-PubSub-v1-to-v2">here</a></p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>This documentation will give you an overview of the PubSub and will help you setup a Logic app and use all 3 PubSub Connectors.</p>
<ol>
<li>Publish</li>
<li>Subscribe</li>
<li>Acknowledge</li>
</ol>
<p>The PubSub connector will be mainly used to push messages to service bus using the Publish connector and then Route messages to different subscriptions using the Subscribe connector along with the Filter functionality it exposes. The acknowledge is then used to flag a message that it has been received, stopping it from being picked up again and re processed.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-information">General Information<a href="#general-information" class="hash-link" aria-label="Direct link to General Information" title="Direct link to General Information">​</a></h2>
<ul>
<li>ConversationId, BatchId, CorrelationId will be available as inputs in Publish and Outputs in Subscribe</li>
<li>Basic Authentication is used for API Authentication, this will require authentication for each connector</li>
<li>Passwords for API authentication - ApiKey1 and ApiKey2 will be stored in KeyVault</li>
<li>Each request can have a max size of 100mb</li>
<li>Delete on Receive is only there in case anyone really needs it. By default the connector will use PeekLock.</li>
<li>Topic name used by PubSub API will be &quot;PubSubRouter&quot;</li>
<li>Servicebus Rule name will use the following pattern: <code>$&quot;{subscriptionName}-{DateTime.Now:yyyyMMddHHmm}&quot;</code> ex: PublishLogicApp-201803211534</li>
<li>Timeout for Subscribe is set to 75 seconds by default</li>
<li>Blob Storage will only be used when message is greater than 256kb. This is configurable at API level.</li>
<li>Connectors can both be added using Http+Swagger and Azure App Services connector </li>
<li>Subscribe should always use the LogicAppName as the subscription property. This can be done when using Bicep deployments or typed manually </li>
<li>Message time to live will be set to 3 months</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="x-ms-workflow-run-id">x-ms-workflow-run-id<a href="#x-ms-workflow-run-id" class="hash-link" aria-label="Direct link to x-ms-workflow-run-id" title="Direct link to x-ms-workflow-run-id">​</a></h3>
<p>The <strong>x-ms-workflow-run-id</strong> HTTP header is passed by the Azure Logic App runtime to the Publish function. The Publish function then <strong>promotes</strong> this value to the <strong>Message Context</strong> which is then available for the developer within the subscribing logic app. This is mainly used for the execution tree to chain logic apps/workflows together.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="message-id">Message Id<a href="#message-id" class="hash-link" aria-label="Direct link to Message Id" title="Direct link to Message Id">​</a></h3>
<p>The MessageId property in the Publish will be used for duplicate detection. This property is not required and can be left empty, if left empty the property will be randomly generated thus treating all messages as new messages. If the property is set, the MessageId supplied will be set as the ID before publishing to ServiceBus. By default, all topics are created with a 1hr duplicate detection policy.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-new-logic-app--using-pubsub-connectors">Creating a new Logic App &amp; Using PubSub Connectors<a href="#creating-a-new-logic-app--using-pubsub-connectors" class="hash-link" aria-label="Direct link to Creating a new Logic App &amp; Using PubSub Connectors" title="Direct link to Creating a new Logic App &amp; Using PubSub Connectors">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="publish-connector">Publish Connector<a href="#publish-connector" class="hash-link" aria-label="Direct link to Publish Connector" title="Direct link to Publish Connector">​</a></h3>
<ol>
<li>
<p>Start by creating a new Blank Logic App From Azure Portal</p>
</li>
<li>
<p>Click on Edit to open the Azure Logic App Designer, if asked what type of template you want, choose blank</p>
<p><img decoding="async" loading="lazy" alt="template" src="/docs-ifa/assets/images/pubsub-template-fbec70921fec49c4ac429d1725476601.png" width="318" height="335" class="img_ev3q"></p>
</li>
<li>
<p>The first step when starting a new Logic app is to add a <strong>Trigger.</strong> A logic app must always start with a Trigger connector.</p>
</li>
<li>
<p>Since the publish is <strong>not</strong> a <strong>trigger</strong> but an action we will need to choose a trigger from the list available. For this example we will add a <strong>Request</strong> trigger</p>
</li>
<li>
<p>Setup the HTTP Request as seen in the image below. The Request Body is basically the schema of the json you will be Posting to this connector</p>
<p><img decoding="async" loading="lazy" alt="http request" src="/docs-ifa/assets/images/pubsub-httprequest-d89c6400db2d7b7d39fadf186b517fd6.png" width="624" height="374" class="img_ev3q"></p>
</li>
<li>
<p>After setting up the above trigger, we will now add an action connector. We will now use the Publish connector which uses the InvictusFramework API. All this is abstracted but in reality, all calls act exactly like API calls</p>
</li>
<li>
<p>Click on <strong>New Step</strong> and select <strong>Add an action</strong></p>
</li>
<li>
<p>Choose Http+Swagger</p>
<p><img decoding="async" loading="lazy" alt="swagger" src="data:image/png;base64,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" width="485" height="54" class="img_ev3q"></p>
</li>
</ol>
<ol start="9">
<li>Enter the swagger url (eg: for PubSub <a href="/"><a href="https://invictus-dev-we-sft-pubsubapp.azurewebsites.net/swagger/docs/v1" target="_blank" rel="noopener noreferrer">https://invictus-dev-we-sft-pubsubapp.azurewebsites.net/swagger/docs/v1</a></a>).</li>
</ol>
<p><img decoding="async" loading="lazy" alt="swagger connector" src="/docs-ifa/assets/images/pubsub-swaggerconnector-2fc62d04eaf2ea97d057f66a8947eb1f.png" width="575" height="244" class="img_ev3q"></p>
<ol start="10">
<li>
<p>Then choose the function you wish to use as a connector. For this example choose <strong>Publish</strong>.</p>
</li>
<li>
<p>Populate the fields with the parameters you wish to pass to Publish.</p>
<p><img decoding="async" loading="lazy" alt="publish" src="/docs-ifa/assets/images/pubsub-publishconnector-444a2ce018d33a8f0785b48942746644.png" width="556" height="160" class="img_ev3q"></p>
</li>
<li>
<p>Notice that Content was wrapped in base64. The reason this needs to be done is because Publish takes a byte[] as input for <strong>Message Content</strong>. The Context object is simply passed without modification, this is expected to be a key value pair list.</p>
<p><img decoding="async" loading="lazy" alt="json" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAAA+CAYAAAAvQn4MAAAMzklEQVR4Ae2df4xUVxXH75L+p7VIpSwgtRFqa0RaGhq1tVi6fxD5IX9AW1M0QaxGrBGNGP8oGlLbGFOMwUgwFpGEYipIDBBsiN2CrS2a0i4ipoVCrUW6rGiLVv8rO+bzhu+bO3ffG+bNm515s3NuMvPuz3PO/b6555573r1veoaHh0vOgiFgCHQ9AuO6HgEDwBAwBCIETBnYD8EQMARMGdhvwBAwBCoIjLAM/jv0b7fusrvc0NG/ud89uMvtvndTpbZzbstt347KqUM8T4BHSD8PvYEtBxyfMJzc/6dIZvKROalO2Kae9KJFi9y4ceNcf39/PdWtjiFQaAQuC6V756QrqrLGX3NVnGbgTp9/o1v59HfjvE6IXD55fJWYl0+dUJVuJIECmD59uhseHm6kubUxBAqHwAjLQBK+Y9J4964plUHDLP6v46+7T6xdqipVVxQF1gIfLAoFzcQqY5YmkL/ppm+6ga0H4nb+jO3TU75meKwXgp+G/u4vboo+4oXMCld/7LooeuV1U5QVX1evXu34ZA3Tpk3L2sTqGwKFRaCn3keLDLy/7HzWLdm8akRnNPilKBjoc9cuczPm3xAvJbAmGJz77tscWxak//Cj34ygyeBn9qY9AcXw0a8ucJNmvS9SAJIjGvRv74jlkdKYvXJenFdPRIpgw4YN9VSP6mzfvj26Ll++vO42VtEQKDICI5YJjQh7av8Rd9ev1sRNZ3/uDvfWmTfi9MKN90ZxrI16wmvPvhRZDH7dD915S6QMUBBnnjsZWROrXnjYr9JwPIsSgAl+gm3btjlTBA1Dbg0LiEDdyoB1N8uEVgUGOpZAUjj/6j8cZv9bg+dT6yS1a1YefgIsAz6mEJqFqtFpNwKpPoNQMA1MmeJ+OU7Fl/e9EGexdp8y5/1xulYEn0EYcFqyfEgK8KecZcejCx9y8h+oLlZF1tCIz6C3t9cNDg5mZWX1DYHCIlC3MqAHDEAGuhx0+AYI+AoGfv5knL/kp6vqmrFRMLNXzIvbSdHI9yA+XBn0lMNf5Z/Zd79bP/ULsULAV+A7JH0HYmHvgAlmCBQEgbodiAWRtzBi8Ghxz549Lqu/oTAdMEEMgQCBTJZB0Lark319fe7UqVO26airfwVjq/NmGYyt+2m9MQQaRsAsg4ahs4aGwNhCIFYGx44dG1s9s94YAoZAJgRiZTBz5sxMDbu9srZCjzYO/sGx0eZl9Gsj8MY552a/u+ROjtF5M1YG7bAMdG6hVQOr9q2uLmWLtR5tjvYjSuiz5Xo0g5SKHt/CC/xHo2/iBe2kk69Z+/nHJ0vRIKTdV5aU3L5fVF7OxeD0P35ZVj6tro+szVIuW39Qct//esnlUVixMmiHZeAfGtJBolbfkDR+7GVY9/aOaKdjUh22RVM+2oFTpPDRpq+8/BrZlJWVZ62Tr1lpUf/Kq3qqmr2nt5IceLPH7Xy6x316hXPEF95TXbdSM39swsQyjxlNMqIf/6VzP9nl3PGjFeXWqJQTJ1e3nDCpOl1PKlYG7bAMEJADSeERY2YsHX6ijiyIWh1iFtJMzjWpvco1O2KRUA/6KqvFQ2W16svKCenBU3lcqUeAVtrpTWRTm3AGD/vLbEygjc/Lx4Hyq2+5PuYdNbj4JT5ckYmgmZ00H8kjWUIZfHrEw5OvKue3xvmOLL+5W+eWW0+rb2OrY6bUzMvsS5pAHjOogmZSrgS/DVaIAu1lgSQtE6ircmgowCspHxpz5jp37Yd7HEpBASsIXj49lckqSqJHnUnvdQ6F1XDg1GIRP5tvvb80eOSvpec390efrDLS/j+Db0Z9I84HGuR9Z9yyKH7i8YEozpWyAw/sHMFLcoT8fToqQ15oi6/ywyvlkocy2v165cZIhrAu6VAG8RYf5Bc9+uDLoLjfRrxCuuINDWiqP1ypy73wMRLPevog2lyPHo2mwujq5zcaP3F0uPS91Req8Nvy8IXSDVdcKP1zqPz7DuPideiJCyXqkib+5cUVOuSrTPUph5/SXOEd1iN/76MXIpqqSz219cugKTmRAVm50g661CVOPclHfeqJdjOu8UEltHQ7lgppWoxTkGw1Zruyf2yaWY8tyQprzjziZJYyq6UFnZykLksSzW7Q11HpqTfPiI5pZz0CLZ6vH37FsRVb8iifK/ywABTyLIvOHnnVzVt3d8wH+TmnoeDLEPJBNs52yJJQG3wW/jkRtnoTaK8lyrULb3LPP/JElE9/Xjt0PLJcRCPkpfzwyu+sFS+FeXBjZaaUZYEsq9c6xwz8kTt63MG9zi39fHlp8eKAc5/1Xmvx8fk9btfPKrN82A+lH9taXj4oreux55yjzLkKjdsXl9wMV7YGHthc5ouFcOi3pXiJw5IH2QgfnO0iGRfeU6b6tYfK+VgA9AkLo1nLllgZFEkR0O3/DZ2PfojhSUkGatJgxYRlgOjcgkzdMoQjvzFhOfUYBv/NTmFZnjTvcWCAMXAZiDuWrc9DLlfb6z81Jx7UEGLJAs7ygYRLizRmoaJOq1e0fAb57/ejDJw7/UrzBlNSP/FnhIOVJckzTznX94GKkkABaMCHdDD/00IjvoE0Wm33GaQJxiyKdcC7Eer9cerNTPy4mbWSgiyCpNmbl6ZgHTQaOKnpWy0hHflGNLv65f6s7OcnxXtvvMYdWFdZaGItMTDrDcz0vIPCD3Lmoqh82n4dP44yRWbh6ZddKt6Iz+BSNLOUMzgPP1W2Dj55d6WlZmHlYBXMvFmp9CsD2fcTqCaDOMmywArAasHhqQ8WhPwWas8VywW5wiC/RT0+gnPnzkU+mvXra09AhbQMMPdl6mIFaJbXrB8CQ5rZDgXCYGRghIPDN9E1A9KOH7QGIjy1ZPDNZrVVO385QlwzJIMMGlXlF584oNREhzp+oB001I5y+p0mA4oMK0P1oSXZfLq14ryJSksLLTN8HGq1pQwZeOeE+kSeb5ldqn2zynGmKTy2tTzI6nmigBL40lLn+k+UzW5oYJq/OFB2+JEuz9blchyBZZPfuWduK/NkIBO+9cOeyEm49r5yPgMdGVZ8oydyVvoywg+Hocz9iMBFXi//udwePvSFAC0tGUjfeZE3cfGPKtb4mjhxoluwYIE7ePCgW7Om8hKisEl8NqFoPoNQ0DxplAk+A619RQsLQq9QU55dDYF2IoAvA2sABRMGniagRMJlR1gvKS2roJYyiJcJRfMZJHXI8gwBQyAbAloinD59uqZVANWusAyywWe1DYHuRCBWBt3Zfeu1IWAICIF4mZBlN5ga29UQMATGDgKxMugknwGOP9+TPnZuh/XEEGgfArEyaIdlgJefZ+Rpg9vfY3+pU32igZKgXRho38gz8ZAOafY9QI9n8vDLS1d7zv3TeeKrve2U+YH965Rpb72eO/t1LG4IZEGgrfsMtNEFgZO2srJnIOn5Oc/Fw3zl1btBKQtIYV02N/HfDQr1/jmM6odX//CNv20WJeFvj/XbcUpt6O+VnGbuRKtQtVg3IRArg3btM0g6tcgNYNZNUhBYE9pdGCqEpBuHxaDNNdpUQz21xYrQrkFtHqIcpcKgVxmy+H84y7blpF2MtG3kH5c4lls+qluxAH68u/ys+eDeSp7fx9yn1HxiFu96BAr5NCHJH+D/wxKKgkNMGtD+XdQgDs8vYNbr/xpVH/P+pT2H4/MMWl7QFjpsyxWPtI1LouVfG1EGfvswznLg9sXVO9HCOpY2BPIi0HbLIKkDDEAGPId5/Nk4qW6ePE4ZMuD9vfhsqVXwtw1nkaMVJ/Iko10NgWYhECuDTnqa0KzOQ0fnAJpJ02gZAp2IQFufJrQaMCwBP+CvkE/Az88bZ5mgv2zPS8vaGwKtQqDjLAPfn0BcTj/fEQh4DHLfz4C/gBN2GvwsRXgCgWXg09Q7B1p1A2rx8U/K6SUZnHqr59hqLbpWZggkIRA7ENv1NCFJKMszBAyB1iMQK4PWszaOhoAhUCQEuspnUCTgTRZDoGgImGVQtDti8hgCbUIgtgzaxN/YGgKGQEEQMGVQkBthYhgC7UZghDLgqQLPyflYMAQMge5BINVnwAsUJ0+e7JYvX949aFhPDYEuRiB1+kcRWDAEDIHuQSBVGfT29rrBwcHuQcJ6agh0OQLxduQQh76+vigL38HQ0JDjjxgsGAKGwNhFIFUZ9Pf3u4GBgZb8QebYhdd6Zgh0DgKpy4SzZ89GDsTO6YpJaggYAnkQSFUGeYhaW0PAEOg8BFKVgTkPO+9mmsSGQB4ERvgM2HQ0a9asiKa9visPtNbWEOgsBFI3HXVWN0xaQ8AQyItA6jIhL2FrbwgYAp2FgCmDzrpfJq0hMGoImDIYNWiNsCHQWQiYMuis+2XSGgKjhoApg1GD1ggbAp2FwP8Bs2+pHW1snk4AAAAASUVORK5CYII=" width="259" height="62" class="img_ev3q"></p>
</li>
<li>
<p>By clicking <strong>Show advanced options</strong>, you will get to see more properties which most of the time are not required.</p>
<p><img decoding="async" loading="lazy" alt="publish advanced" src="/docs-ifa/assets/images/pubsub-publishconnectoradvanced-65bee27e32a6527d6cfb0efadf4293e1.png" width="557" height="217" class="img_ev3q"></p>
</li>
<li>
<p>Although Authentication can be found under advanced, since the API which is exposing the custom connectors is using Basic Authentication, this has to always be populated. Use the below Json structure to setup Basic Auth for the connector. <strong>More info can be found with the official documentation of logic apps.</strong></p>
<p><img decoding="async" loading="lazy" alt="authentication" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATAAAACKCAYAAAAt3RZUAAASD0lEQVR4Ae2de4iU1RvHz5rQFYtuREGZRDcoUSTKS9G9EKILWHQhCmSp/hFzsyJJKchKDURyF6II2wohJSELs4g0CTHdCrIiaosIy66WWf/s/PicX8/47uw793fmzLzne2Cd2fOe85zn+ZyZ75zz7nienpGRkYJTEYEmCAwMDLje3t4mLKirCDRGYFxj3dRLBERABMITkICFnwN5IAIi0CABCViD4NRNBEQgPIHx4V2QB3kgwH0wFRFoN4Ee3cRvN3KNJwIikBUBbSGzIik7IiACbScgAWs7cg0oAiKQFQEJWFYkZUcERKDtBCRgbUeuAUVABLIiIAHLiqTsiIAItJ2AvkbRduT5G1BfocjfnHZLRBKwbpmpDvdT/xeywycop+5pC5nTiVVYIhADAQlYDLOsGEUgpwQkYDmdWIUlAjEQkIDFMMuKUQRySkACltOJVVgiEAMBCVgMs6wYRSCnBCRgOZ1YhSUCMRCQgMUwyx0W4xdffOGmTJniPvjggw7zTO50GwEJWLfNWA783bFjh1uwYIGbMWNGDqJRCCEJSMBC0o947IkTJ0YcvULPioAELCuSsiMCItB2AhKwtiPXgF9//bUgiEAmBCRgmWCUkVoJDA4OukmTJun+V63A1K4iAQlYRTy6mDWB2267zbEC018gsyYbpz0JWJzzHjRqVmAqIpAFAQlYFhRlQwREIAgBCVgQ7Bp0eHhYEESgaQISsKYRykC9BKZNm+aWLVum+2D1glP7MQR0pPQYJKpoNYGzzjrL7dq1q9XDyH4EBLQCi2CSFaII5JWABCyvM6u4RCACAhKwCCZZIYpAXglIwPI6s4pLBCIgIAGLYJIVogjklYAELK8zq7hEIAICErAIJlkhikBeCUjA8jqziksEIiAgAYtgkhWiCOSVgAQsrzOruEQgAgISsAgmWSGKQF4JSMDyOrOKSwQiICABi2CSuyVE8kU+88wz/pSKxx57rFvcLusnp85aHPXEBoOhoSG3cOFCR79ffvnF27G6AwcOlB0ztgsSsNhmXPGKQI4ISMByNJkKRQSiIzAyMlLQjxg08xpYvXp1y15DS5YsKaxfv75w9dVXF5xzhd7e3sL+/fv9eFu2bPF11E+ePLmwe/fuMfXWfu/evUUbtN21a1ehr69vVB9rC4vly5cXr+EDY5SOv2bNGt8O32iDX9gwf/r7+319GlvaJsdPa6O66u9LrcCi+8jqvoD7+/vdSy+95EZGRtzJJ5/s1q1b54OYMWOGr6N+1apVbu3atY77Qxs2bHC7d+/211avXu0OP/xw99Zbb7nbb7/d13GY4uTJk91RRx3lfv75Z29r+/bt7vfff3ffffedv+f05ZdfuuOPP754D4sx+Jk5c6Y/TdYobtq0yfu2aNEiX49/tNu2bZsObTRILXyUgLUQrkxnQ+CRRx5xxx13nDc2Z84c98knn3ihQqzuueceN27cODdr1iz3ww8/+DYI07x587wQmQcTJ050d9xxx6hjrC+77DL37rvv+nZ//fWXu/TSS72gIWpnnnmmO+KII3z3e++918y4a665xo/DjXUKoohvdmPd2iKaXCtXuP7kk086TqdVaZyABKxxduoZkACCMX/+/OKqihXXhAkTvEeshlixISAIHG1ttYZgTZkyxf917+yzz/Zi9Pnnn7vzzz/fXXLJJY6V2I4dO9wFF1xQV3R///13UUDr6qjGTRGQgDWFT53bQQDRscI2EbEpFArujz/+8Ns8riE6+/bts2Z+VcRWE1FjW2gFcVuwYIFvz8qJlRb2EbNTTz3V7dmzx23dutX/ziqJ8uyzz1p3vxVlm2grQrvA79SzVaUgmohoucJ1+5pEuTaqr05AAladkVp0AAG2ifxQyO6NYMyePdudc845vp5tJWKFMNi28sgjj/RixzZtcHDQt8MGAnXjjTd6W6y02HoiXggW4pgUKMSO6zY+falLK2wfES3aTp8+3a/00tplUcd3zIgp9tLDXzpih6D4myMwMDDgent7mzNSpjdfBOVeFVtAlYMEXn/9db9KjP0emlZgB18TeiYCXUGAVSYrTv5KGntRXsjYXwGKv+sIsNXlXp6KcxIwvQo6moDeqB09PcGd0xYy+BTIAREQgUYJSMAaJad+IiACwQlIwIJPgRwQARFolIAErFFy6icCIhCcgAQs+BTIAREQgUYJSMAaJad+IiACwQlIwIJPgRwQARFolIAErFFy6icCIhCcgAQs+BTIAREQgUYJSMAaJad+IiACwQlIwIJPgRwQARFolMAhjz766OJqnf/991+3YsUK9+eff7ozzjijWvPU6xz09tVXXzXcP9VoohL777//fiZnMD3//PPuxx9/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" width="304" height="138" class="img_ev3q"></p>
</li>
<li>
<p>The password for the API can be retrieved from AzureKeyVault by using either ApiKey1 or ApiKey2.</p>
<p><img decoding="async" loading="lazy" alt="key vault" src="/docs-ifa/assets/images/pubsub-keyvaultapikey-1671d0f7223a98f4ff7b360f057f516d.png" width="624" height="49" class="img_ev3q"></p>
</li>
<li>
<p>At this point you can continue adding more actions if required. For this example this will conclude the use of the Publish Connector.</p>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="subscribe--acknowledge">Subscribe &amp; Acknowledge<a href="#subscribe--acknowledge" class="hash-link" aria-label="Direct link to Subscribe &amp; Acknowledge" title="Direct link to Subscribe &amp; Acknowledge">​</a></h3>
<ol>
<li>
<p>Start by creating a new Blank Logic App From Azure Portal</p>
</li>
<li>
<p>Click on Edit to Open the Azure Logic App Designer, if asked what type of template you want, choose blank.</p>
<p><img decoding="async" loading="lazy" alt="template" src="/docs-ifa/assets/images/pubsub-template-fbec70921fec49c4ac429d1725476601.png" width="318" height="335" class="img_ev3q"></p>
</li>
<li>
<p>We will now add the Subscribe Trigger</p>
</li>
<li>
<p>Search for Http+Swagger</p>
</li>
<li>
<p>Enter the swagger url.</p>
</li>
<li>
<p>Then choose the function you wish to use as a connector. For this example choose <strong>Subscribe</strong>.</p>
</li>
<li>
<p>Setup the connector</p>
<ul>
<li>
<p>The subscription name ideally should be set the same as the logic app name, this is then used by servicebus</p>
</li>
<li>
<p>Filter is used to filter on the context properties</p>
</li>
<li>
<p>Receive timeout is optional and is set to 75000 by default and can be left blank</p>
</li>
<li>
<p>Batch size is defaulted to 10 and can be left blank</p>
</li>
<li>
<p>Delete On Receive can also be ignored and is set to No by default, thus using PeekLock</p>
</li>
<li>
<p>Authentication needs to be set since the connector API uses basic authentication</p>
</li>
<li>
<p>The Interval frequency is used by the Azure Logic App Runtime to indicate the frequency the Logic App is triggered.</p>
<p><img decoding="async" loading="lazy" alt="subscribe" src="/docs-ifa/assets/images/pubsub-subscribeconnector-6fa9920390be72f16180b036b2f8d73a.png" width="553" height="370" class="img_ev3q"></p>
</li>
</ul>
</li>
<li>
<p>After this connector is set click on <strong>New Step</strong> again and add the <strong>Acknowledge</strong> function, repeating the same steps used for <strong>Publish/Subscribe</strong></p>
<ul>
<li>
<p>The previous Subscribe connector returns the subscription value supplied as a parameter, as output, use that in the acknowledge connector to avoid typing the wrong subscription value</p>
</li>
<li>
<p>Lock token is also supplied with the data returned by the Subscribe Connector</p>
</li>
<li>
<p>Choose the AcknowledgeType, normally it would always be Complete</p>
</li>
<li>
<p>Set IgnoreLockLostException if you do not want to throw an error if the lock is not found. For example in case of a Resubmit of the Logic App.</p>
</li>
<li>
<p>Set the MessageReadTime to @trigger()[&#x27;startTime&#x27;] when IgnoreLockLost=true and you want to avoid duplicate messages. Invictus will resend the message when it has not received an Acknowledgement within the lock timeout. By setting this parameter, the Acknowledge will not ignore the LockLostException if this startTime is more than the set lock timeout on the message (default 1 minute). The exception should be caught and handled.</p>
</li>
<li>
<p>Set the authentication the same as you did in the previous connectors </p>
<p><img decoding="async" loading="lazy" alt="acknowledge" src="/docs-ifa/assets/images/pubsub-ackconnector-768c0b88d89afd8e37329aaa267ff0a4.png" width="835" height="687" class="img_ev3q"></p>
</li>
</ul>
</li>
<li>
<p>Click Save</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test">Test<a href="#test" class="hash-link" aria-label="Direct link to Test" title="Direct link to Test">​</a></h2>
<p>To test the above functions, you can use Postman. Before doing this part ensure that both Logic Apps have been setup as described. It is also important to have Subscribe setup before attempting to Post a request, as this will create both the topic and subscription on service bus. Without the Topic and Subscription, it is guaranteed that the first message posted will fail and no messages will be available.</p>
<ol>
<li>
<p>Get the url exposed by the <strong>Publish Request trigger</strong></p>
<p><img decoding="async" loading="lazy" alt="http" src="/docs-ifa/assets/images/pubsub-httprequestsmall-c4cd47a93594fbae2cb2b3edc6156768.png" width="444" height="87" class="img_ev3q"></p>
</li>
<li>
<p>Send a POST request using the below Json or anything that matches the schema which you setup when creating the HTTP request trigger.</p>
<p><img decoding="async" loading="lazy" alt="postman" src="/docs-ifa/assets/images/pubsub-json-c95d241790991f7e75c9568cb968cd97.png" width="624" height="199" class="img_ev3q"></p>
</li>
<li>
<p>You should receive 202 if request was Accepted</p>
</li>
</ol>
<p>To confirm that both Logic apps are now working and handling the messages as expected go to each Logic App on Azure. Review the Run History for Both Logic Apps.</p>
<p>It is important to confirm that the Data sent in Publish is what is being outputted in the Subscribe. This can be achieved by clicked on any of the rows in the table shown below.</p>
<p><img decoding="async" loading="lazy" alt="la-runs" src="/docs-ifa/assets/images/pubsub-laruns-0e1f96fa9f4537751eedd80a1e7b03af.png" width="624" height="83" class="img_ev3q"></p>
<p>You will be taken to another screen where you will be able to view all input and outputs.</p>
<p><img decoding="async" loading="lazy" alt="la-runsdetail" src="/docs-ifa/assets/images/pubsub-subscriberesult-7ad6f98941995c27b38225a03ea21b7d.png" width="624" height="747" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/invictus-integration/docs-ifa/edit/master/docs/versioned_docs/version-v6.0.0/framework/deprecated/pubsub.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-ifa/framework/deprecated/matrix"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Matrix</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-ifa/framework/deprecated/transco-assemblies"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Transco - Custom Assemblies</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#️-attention" class="table-of-contents__link toc-highlight">⚠️ Attention</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#general-information" class="table-of-contents__link toc-highlight">General Information</a><ul><li><a href="#x-ms-workflow-run-id" class="table-of-contents__link toc-highlight">x-ms-workflow-run-id</a></li><li><a href="#message-id" class="table-of-contents__link toc-highlight">Message Id</a></li></ul></li><li><a href="#creating-a-new-logic-app--using-pubsub-connectors" class="table-of-contents__link toc-highlight">Creating a new Logic App &amp; Using PubSub Connectors</a><ul><li><a href="#publish-connector" class="table-of-contents__link toc-highlight">Publish Connector</a></li><li><a href="#subscribe--acknowledge" class="table-of-contents__link toc-highlight">Subscribe &amp; Acknowledge</a></li></ul></li><li><a href="#test" class="table-of-contents__link toc-highlight">Test</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/invictus-integration" target="_blank" rel="noopener noreferrer" class="footer__link-item">Invictus Integration Github<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025, Invictus - Integration maintained by Codit</div></div></div></footer></div>
</body>
</html>