<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v6.0.0 docs-doc-page docs-doc-id-framework/sequencecontroller" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Sequence Controller | Invictus - Integration</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://invictus-integration.github.io/docs-ifa/img/logo.light.png"><meta data-rh="true" name="twitter:image" content="https://invictus-integration.github.io/docs-ifa/img/logo.light.png"><meta data-rh="true" property="og:url" content="https://invictus-integration.github.io/docs-ifa/framework/sequencecontroller"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v6.0.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v6.0.0"><meta data-rh="true" name="docsearch:version" content="v6.0.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v6.0.0"><meta data-rh="true" property="og:title" content="Sequence Controller | Invictus - Integration"><meta data-rh="true" name="description" content="Motivation"><meta data-rh="true" property="og:description" content="Motivation"><link data-rh="true" rel="icon" href="/docs-ifa/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://invictus-integration.github.io/docs-ifa/framework/sequencecontroller"><link data-rh="true" rel="alternate" href="https://invictus-integration.github.io/docs-ifa/framework/sequencecontroller" hreflang="en"><link data-rh="true" rel="alternate" href="https://invictus-integration.github.io/docs-ifa/framework/sequencecontroller" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Framework","item":"https://invictus-integration.github.io/docs-ifa/framework/"},{"@type":"ListItem","position":2,"name":"Sequence Controller","item":"https://invictus-integration.github.io/docs-ifa/framework/sequencecontroller"}]}</script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bitter:wght@700&family=Inter:wght@400;500&display=swap"><link rel="stylesheet" href="/docs-ifa/assets/css/styles.32c285cf.css">
<script src="/docs-ifa/assets/js/runtime~main.779e2ee3.js" defer="defer"></script>
<script src="/docs-ifa/assets/js/main.9fd0a9ef.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-ifa/"><div class="navbar__logo"><img src="/docs-ifa/img/logo.light.png" alt="Invictus" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-ifa/img/logo.dark.png" alt="Invictus" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Invictus</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs-ifa/framework/sequencecontroller">v6.0.0</a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><a href="https://github.com/invictus-integration/docs-ifa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-ifa/">Welcome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-ifa/architecture-diagram">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="/docs-ifa/dashboard/">Dashboard</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs-ifa/dashboard/installation/">Installation</a><button aria-label="Expand sidebar category &#x27;Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/flows/">Flows</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/flows/add">Add new flows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/flows/search">Search for flows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/flows/permissions">Flow permissions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs-ifa/dashboard/flows/import-flow-traces/">Import flow traces</a><button aria-label="Expand sidebar category &#x27;Import flow traces&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs-ifa/dashboard/security/users">Security</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/accesscontrolrights">Access Control Rights</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/dashboard/settings">Settings</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs-ifa/framework/">Framework</a><button aria-label="Collapse sidebar category &#x27;Framework&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/installation/">Installation</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/installation/framework-buildpipeline">Framework Build Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/installation/framework-migration">Framework Migration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/installation/framework-releasepipeline">Framework Release Pipeline</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/">Deprecated components</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/matrix-basic">Matrix - Basic Promotion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/matrix-promote">Matrix - Promotion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/matrix">Matrix</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/pubsub">Publish / Subscribe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/transco-assemblies">Transco - Custom Assemblies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/transco-extraction">Transco - Extraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/deprecated/transco">Transco</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/exceptionHandler">Exception Handler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/pubsubV2">Publish and subscribe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/regextranslation">Regex Translation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-ifa/framework/sequencecontroller">Sequence Controller</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/timesequencer">Timesequencer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/transcoV2-Example">Full Transco V2 Example</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/transcoV2-Matrix">Transco V2 - Matrix Functionality</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/transcoV2">Transco V2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/xmljsonconverter">Json/Xml Converter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/framework/xsd-validator">XSD Validator</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Support</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-ifa/support/v6-migration">v6 Migration Guide</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-ifa/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs-ifa/framework/"><span>Framework</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Sequence Controller</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Sequence Controller</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="motivation">Motivation<a href="#motivation" class="hash-link" aria-label="Direct link to Motivation" title="Direct link to Motivation">‚Äã</a></h2>
<p>Some dependent external systems can&#x27;t handle parallel message processing or requires a certain order of messages. Sending messages serially (for example, by setting the concurrency on a Logic App to <code>1</code>) can be a solution, at the cost of a big performance impact.</p>
<blockquote>
<p>üåç <strong>A customer story from the trenches</strong></p>
<p><em>A downstream application cannot handle multiple calls at the same time for the same order ID, by using the <strong>Sequence Controller</strong> we are able to make sure that a single call per order ID is done (by using the order ID in the <code>sequenceName</code>) and we do not have the use the concurrency option for the Logic App which would dramatically slow down the processing for all messages.</em></p>
</blockquote>
<p>The Invictus Framework provides a <strong>Sequence Controller</strong> component that allows you to process Logic App workflow runs in a specified order. This way, even though workflows might be triggered in parallel, the dependent external system is not overblown with messages.</p>
<blockquote>
<p>üîó See also the <a href="https://www.enterpriseintegrationpatterns.com/patterns/messaging/MessageSequence.html" target="_blank" rel="noopener noreferrer">Message Sequence</a> integration pattern.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">‚Äã</a></h2>
<p>The <strong>Sequence Controller</strong> component is available as a HTTP endpoint in your Logic App workflow. To include sequence processing to your workflow, these three HTTP interaction tasks should normally be added:</p>
<ul>
<li><a href="#_1-get-sequence-number">Get sequence number</a>: allows the workflow to determine what current position it has in the sequence;</li>
<li><a href="#_2-wait-for-sequence">Wait for sequence</a>: allows the workflow to wait its turn, doing the actual work in a <strong>Control</strong> task;</li>
<li><a href="#_3-complete-sequence">Complete sequence</a>: allows the workflow to signal that the next workflow in the sequence is up.</li>
</ul>
<blockquote>
<p>‚ö° There also exists a <a href="#_4-reset-sequence">Reset sequence</a> action that allows admins to externally remove references to old sequences or possibly reuse sequence names.</p>
</blockquote>
<p>The idea is that workflows are processed in sequence after the <strong>Wait</strong>. The place between the <strong>Wait</strong> and <strong>Complete</strong> task allows you to place your own logic that needs to run in order. If workflow 1 gets triggered before workflow 2, the second workflow will wait for the first workflow.</p>
<p><img decoding="async" loading="lazy" alt="Pseudo Logic App workflow with Sequence Controller" src="/docs-ifa/assets/images/pseudo-logic-app-w-sequence-controller-adf89c5747fe0c35836191d94b672a90.png" width="521" height="784" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-get-sequence-number">1. Get sequence number<a href="#1-get-sequence-number" class="hash-link" aria-label="Direct link to 1. Get sequence number" title="Direct link to 1. Get sequence number">‚Äã</a></h3>
<p>First step for the Logic App workflow to run in sequence, is to take a number in the line. Doing this requires you to send a HTTP POST request to the <code>/api/GetSequenceNumber</code> endpoint of the deployed <strong>Sequence Controller</strong>.</p>
<blockquote>
<p>üí° This step can be circumvented in some advanced scenarios where you keep track of the order numbers and pass it yourself during the <a href="#_2-wait-for-sequence">Wait for sequence</a>.</p>
</blockquote>
<p>The most simple request body only contains the name of the sequence. This name can be seen as the transactional group that chain all related workflows. Assuming this is the first workflow, it will receive number 1 in the response body; the second workflow will receive number 2, and so forth.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#19203d;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#19203d;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#19203d"><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic">// POST /api/GetSequenceNumber</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token punctuation" style="color:#19203d">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;sequenceName&quot;</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;&lt;my-sequence-name&gt;&quot;</span><span class="token punctuation" style="color:#19203d">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token punctuation" style="color:#19203d">}</span><br></span></code></pre></div></div>
<p>The response body containing this counter is required for the next step: <a href="#_2-wait-for-sequence">Wait for sequence</a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="customization">Customization<a href="#customization" class="hash-link" aria-label="Direct link to Customization" title="Direct link to Customization">‚Äã</a></h4>
<p>If you want to start the sequence at a later point, you can also pass the <code>sequenceStart</code> with your own start number. Only make sure that you pass this along subsequent calls.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#19203d;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#19203d;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#19203d"><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic">// POST /api/GetSequenceNumber</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token punctuation" style="color:#19203d">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;sequenceName&quot;</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;&lt;my-sequence-name&gt;&quot;</span><span class="token punctuation" style="color:#19203d">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;sequenceStart&quot;</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token punctuation" style="color:#19203d">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="logic-app-workflow-example">Logic App workflow example<a href="#logic-app-workflow-example" class="hash-link" aria-label="Direct link to Logic App workflow example" title="Direct link to Logic App workflow example">‚Äã</a></h4>
<p>The following image shows a screenshot of how this HTTP call can be made in a Logic App workflow.</p>
<blockquote>
<p><img decoding="async" loading="lazy" alt="sequencecontroller-get-number-execution" src="/docs-ifa/assets/images/seqcont-getseqnum-a6ce1c8c2eac5af6905296e33870d9b9.jpg" width="562" height="401" class="img_ev3q"></p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-wait-for-sequence">2. Wait for sequence<a href="#2-wait-for-sequence" class="hash-link" aria-label="Direct link to 2. Wait for sequence" title="Direct link to 2. Wait for sequence">‚Äã</a></h3>
<p>The next step for the Logic App workflow to run in sequence, is to wait its turn. To facilitate this, the counter collected from the previous <a href="#_1-get-sequence-number">Get sequence number</a> step is required.</p>
<p>To make the workflow wait, a HTTP-callback task is required in the workflow. This allows you to pass in a webhook that the deployed <strong>Sequence Controller</strong> can call when its the workflow&#x27;s turn to proceed.</p>
<p>The following request needs to be send in this HTTP callback task:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#19203d;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#19203d;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#19203d"><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic">// POST /api/WaitForExecution</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token punctuation" style="color:#19203d">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;sequenceName&quot;</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;&lt;my-sequence-name&gt;&quot;</span><span class="token punctuation" style="color:#19203d">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;counter&quot;</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> @sequenceCounter</span><span class="token punctuation" style="color:#19203d">,</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic">// Collected via /api/GetSequenceNumber.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;callbackUri&quot;</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> @listCallbackUrl() </span><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic">// Available through the HTTP-callback task.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token punctuation" style="color:#19203d">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="logic-app-workflow-example-1">Logic App workflow example<a href="#logic-app-workflow-example-1" class="hash-link" aria-label="Direct link to Logic App workflow example" title="Direct link to Logic App workflow example">‚Äã</a></h4>
<p>The following image shows a screenshot of how this HTTP-callback task can be made in the Logic App workflow.</p>
<blockquote>
<p><img decoding="async" loading="lazy" alt="sequencecontroller-wait-execution" src="/docs-ifa/assets/images/seqcont-waitforexec-cd6c7258dffac02acd80150573cf22eb.jpg" width="499" height="356" class="img_ev3q"></p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-complete-sequence">3. Complete sequence<a href="#3-complete-sequence" class="hash-link" aria-label="Direct link to 3. Complete sequence" title="Direct link to 3. Complete sequence">‚Äã</a></h3>
<p>The final step for the Logic App workflow to run in sequence, is to signal the completion of the item in the sequence. This will allow the next workflow to proceed. To facilitate this, the counter collected from the previous <a href="#_1-get-sequence-number">Get sequence number</a> step is required.</p>
<p>To complete the in-sequence work of the workflow, a HTTP task is required that sends this request.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#19203d;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#19203d;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#19203d"><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic">// POST /api/ConfirmExecutionCompleted</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token punctuation" style="color:#19203d">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;sequenceName&quot;</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;&lt;my-sequence-name&gt;&quot;</span><span class="token punctuation" style="color:#19203d">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;currentCounter&quot;</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> @sequenceCounter</span><span class="token punctuation" style="color:#19203d">,</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic">// Collected via /api/GetSequenceNumber</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token punctuation" style="color:#19203d">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="logic-app-workflow-example-2">Logic App workflow example<a href="#logic-app-workflow-example-2" class="hash-link" aria-label="Direct link to Logic App workflow example" title="Direct link to Logic App workflow example">‚Äã</a></h4>
<p>The following image shows a screenshot of how this HTTP call can be made in a Logic App workflow.</p>
<blockquote>
<p><img decoding="async" loading="lazy" alt="sequencecontroller-complete-execution" src="/docs-ifa/assets/images/seqcont-compexec-69e024945fa573b518801754f308f150.jpg" width="499" height="419" class="img_ev3q"></p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-reset-sequence">(4.) Reset sequence<a href="#4-reset-sequence" class="hash-link" aria-label="Direct link to (4.) Reset sequence" title="Direct link to (4.) Reset sequence">‚Äã</a></h3>
<p>The deployed <strong>Sequence Controller</strong> allows admins to reset previously stored sequences. This could be useful if certain sequence names should be reused for other purposes, or for cleaning references.</p>
<blockquote>
<p>‚ö†Ô∏è This action <strong>SHOULD NOT</strong> be part of any Logic App workflow as resetting sequences in the middle of processing will result in indefinitely &#x27;hanging&#x27; workflow runs.</p>
</blockquote>
<p>Resetting can be done with sending the following request:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#19203d;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#19203d;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#19203d"><span class="token comment" style="color:hsl(230, 4%, 64%);font-style:italic">// POST /api/ResetSequence</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token punctuation" style="color:#19203d">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">&quot;sequenceName&quot;</span><span class="token operator" style="color:#249cff">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;&lt;my-sequence-name&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#19203d"><span class="token plain"></span><span class="token punctuation" style="color:#19203d">}</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/invictus-integration/docs-ifa/edit/master/docs/versioned_docs/version-v6.0.0/framework/sequencecontroller.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-ifa/framework/regextranslation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Regex Translation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-ifa/framework/timesequencer"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Timesequencer</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#motivation" class="table-of-contents__link toc-highlight">Motivation</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#1-get-sequence-number" class="table-of-contents__link toc-highlight">1. Get sequence number</a></li><li><a href="#2-wait-for-sequence" class="table-of-contents__link toc-highlight">2. Wait for sequence</a></li><li><a href="#3-complete-sequence" class="table-of-contents__link toc-highlight">3. Complete sequence</a></li><li><a href="#4-reset-sequence" class="table-of-contents__link toc-highlight">(4.) Reset sequence</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/invictus-integration" target="_blank" rel="noopener noreferrer" class="footer__link-item">Invictus Integration Github<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025, Invictus - Integration maintained by Codit</div></div></div></footer></div>
</body>
</html>